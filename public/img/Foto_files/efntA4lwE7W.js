if (self.CavalryLogger) { CavalryLogger.start_js(["r1Dvy"]); }

__d("MLtgTranslationPreferencesBootloader",["Bootloader","EventListener"],(function(a,b,c,d,e,f,g,h){var i;c={bootloadDropdown:function(c,d,e,f,j){h.listen(c,"click",function(){g.loadModules(["React","ReactDOM","DOMContainer.react","MLtgTranslationPreferences.react"],function(g,h,k,l){a=g,b=h,i||b.render(a.createElement(l,{translationData:e,originalMessageElem:f,showDropdown:!0,mLanguageSettingsURI:j},a.createElement(k,null,d)),c)},"MLtgTranslationPreferencesBootloader")})}};e.exports=c}),null);
__d("ViewableImpressionUtils",[],(function(a,b,c,d,e,f){a={isHorizontallyOffscreen:function(a,b,c){a=Math.max(b.x,0);c=Math.min(b.x+b.width,c.width);return c-a<b.width}};e.exports=a}),null);
__d("FullViewLogger",["Banzai","ScriptPath","SubscriptionsHandler","URI"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();k.logFromViewableImpressionTracker=function(a){"use strict";var b=new k();b.subscribeToTrackerEvents(a)};k.prototype.subscribeToTrackerEvents=function(a){"use strict";this.subscriptionsHandler=new i(),this.subscriptionsHandler.addSubscriptions(a.addListener("full_view",this.onFullView,this))};k.prototype.onFullView=function(a){"use strict";this.$1()&&this.$2(a);a={token:a.token,fullViewType:a.fullViewType,scriptPath:h.getTopViewEndpoint()};g.post("xtrackable:full_view",a);this.$1()&&this.$3(a)};k.prototype.$1=function(){"use strict";return 0};k.prototype.$2=function(a){"use strict"};k.prototype.$3=function(a){"use strict"};function k(){"use strict"}e.exports=k}),null);
__d("PercentVisible",[],(function(a,b,c,d,e,f){e.exports={NO_VISIBLE:-1,VISIBLE_0_PCT:0,VISIBLE_50_PCT:50,VISIBLE_100_PCT:100}}),null);
__d("AdDelayedHiddenCheckConfiguration",["AdImpressionLoggingConfig"],(function(a,b,c,d,e,f,g){var h=null;a={getEnabled:function(){return h===null?g.enableDelayedHiddenCheck:h},setEnabled:function(a){h=a}};e.exports=a}),null);
__d("BrowseClientEventLogger",[],(function(a,b,c,d,e,f){a={maybeLogClientViewEvent:function(a){},maybeLogVisiblityEvent:function(a){}};e.exports=a}),null);
__d("FullViewType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTIRE_UNIT:1})}),null);
__d("GHLTestElement",["BanzaiODS","Parent","containsNode","csx","getElementPosition","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();a=function(a,b){__p&&__p();var c=Array.from(a.querySelectorAll("img"));if(l("699881")&&!m(c)){g.bumpEntityKey("feed_ads","GHLTestElement.testElementI.skipping_check_for_incompatible_element"+b);return!1}c.length===0&&g.bumpEntityKey("feed_ads","GHLTestElement.testElementI.no_images_in_element"+b);b=c.filter(function(a){a=k(a);return a.width>0||a.height>0});c=b.length===0;return c&&!n(a)};b=function(a){a=Array.from(a.querySelectorAll("img"));return m(a)};var m=function(a){__p&&__p();var b=a.filter(function(a){var b;b=a==null?void 0:(b=a.ownerDocument)==null?void 0:b.documentElement;return"getBoundingClientRect"in a&&i(b,a)});if(b.length===0){g.bumpEntityKey("feed_ads","GHLTestElement.element_incompatible_for_image_check");var c="GHLTestElement.element_incompatible_reason";a.length===0&&(c+=".no_images");var d=a.filter(function(a){a=a==null?void 0:(a=a.ownerDocument)==null?void 0:a.documentElement;return a!==null});d.length===0&&(c+=".doc_null");d=a.filter(function(a){var b;b=a==null?void 0:(b=a.ownerDocument)==null?void 0:b.documentElement;return b!==a});d.length===0&&(c+=".self_as_doc");d=a.filter(function(a){var b;b=a==null?void 0:(b=a.ownerDocument)==null?void 0:b.documentElement;return i(b,a)});d.length===0&&(c+=".not_contains");d=a.filter(function(a){return"getBoundingClientRect"in a});d.length===0&&(c+=".no_rect_call");g.bumpEntityKey("feed_ads",c)}return b.length!==0},n=function(a){return!!h.bySelector(a,o)},o=[".hidden_elem","._5ds2","._i6m"].join(",");e.exports={testElementI:a,testImagesCompat:b}}),null);
__d("GHLTracker",["BanzaiODS"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map();a=function(a){if(h.has(a)){g.bumpEntityKey("feed_ads","GHLTracker.element_id_duplicated");return}h.set(a,{isHidden:!1,isDelayImpLogged:!1})};b=function(a){var b=h.get(a);b!==void 0&&h.set(a,{isHidden:!0,isDelayImpLogged:b.isDelayImpLogged})};c=function(a){var b=h.get(a);b!==void 0&&h.set(a,{isHidden:b.isHidden,isDelayImpLogged:!0})};d=function(a){return h.get(a)};e.exports={track:a,markH:b,markImp:c,getState:d}}),null);
__d("NonBlockingIFrame",["Promise","DOM","TimeSlice"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j={},k,l;function m(a,b){__p&&__p();a===void 0&&(a=j);b===void 0&&(b=document.body);var c={className:"nonBlockingIframe",width:0,height:0,frameborder:0,scrolling:"no","aria-hidden":"true"};a!==j&&(c.src=a);c=h.create("iframe",c);c.style.left="-1000px";c.style.position="absolute";h.appendContent(b,c);a===j&&(c.contentDocument.open(),c.contentDocument.close());return c}function n(){return new g(function(a){k||(k=m()),k.contentDocument.readyState==="complete"?a(k):(l||(l=new g(function(a){k.contentWindow.onload=i.guard(function(){a(k)},"NonBlockingIFrame window.onload")})),a(l))})}a={loadImage:function(a){__p&&__p();return n().then(function(b){return new g(function(c,d){var e=b.contentWindow.Image,f=new e();f.onload=i.guard(function(){c(f)},"NonBlockingIFrame image.onload");f.onerror=i.guard(function(){d(f)},"NonBlockingIFrame image.onerror");f.onabort=i.guard(function(){d(f)},"NonBlockingIFrame image.onabort");f.src=a})})},loadIFrame:function(a){a===void 0&&(a=j);return n().then(function(b){b=b.contentDocument.body;return m(a,b)})}};e.exports=a}),null);
__d("ghlTestUBT",["Promise","URI","gkx","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;function l(){__p&&__p();var a=document.createElement("div"),b=["AdBox","Ad","advert"];i("686994")&&b.push("post-ads");a.className=b.join(" ");document.body.appendChild(a);return new g(function(b){__p&&__p();var c=window.getComputedStyle&&window.getComputedStyle(a);if(!c){b(!1);return}if(c.display==="none"){b(!0);return}if(c.MozBinding&&c.MozBinding.indexOf("url")===0){setTimeout(function(){return b(a.clientWidth===0)},5e3);return}b(!1)})}function m(){__p&&__p();var a=document.createElement("img");document.body.appendChild(a);return new g(function(b){a.onload=function(){var c=window.getComputedStyle&&window.getComputedStyle(a);c=c&&c.display==="none";a.parentNode&&a.parentNode.removeChild(a);b(c)};a.onerror=function(){a.parentNode&&a.parentNode.removeChild(a),b(!0)};var c=new h("https://scontent.xx.fbcdn.net/hads-ak-prn2/1487645_6012475414660_1439393861_n.png");a.src=c.toString()})}function a(a){k===void 0?j(g.all([l(),m()]),function(b){k=b.some(function(a){return a}),a(k)}):a(k)}e.exports=a}),null);
__d("ViewableImpressionTracker",["AdDelayedHiddenCheckConfiguration","AdImpressionLoggingConfig","Banzai","BanzaiODS","BrowseClientEventLogger","DataAttributeUtils","DOM","FBSiteWhiteOps","FullViewType","GHLTestElement","GHLTracker","NonBlockingIFrame","PercentVisible","Run","Style","URI","ViewableImpressionUtils","Visibility","csx","cx","ge","getElementPosition","getViewportDimensions","ghlTestUBT","mixInEventEmitter","randomInt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){__p&&__p();function a(a,b,c){"use strict";__p&&__p();this.checkAndLogImpressionIfPendingOnExit=function(){h.enableFlushDelayLogOnCleanup&&this.waitForDelayLogged&&(clearTimeout(this.delayedLoggingTimeout),this.delayLogImpression())}.bind(this),this.delayLogImpression=function(){__p&&__p();this.waitForDelayLogged=!1;var a="other";this.element.id.startsWith("hyperfeed")&&(a="16");var b=p.testElementI(this.element,".vit."+a),c=q.getState(this.element.id);c&&(c.isHidden!==b&&j.bumpEntityKey("feed_ads","ViewableImpressionTracker.delayLogImpression.hidden_value_mismatch."+b+"."+c.isHidden+"."+a));q.markImp(this.element.id);if(b){this.$11();h.logForHiddenAds&&this.logImpression(1,!0,{});return}this.logImpression(1,!1,{});this.$9()}.bind(this),this.id=a,this.element=b,this.config=c,this.iframe=null,this.viewableTimeout=null,this.delayedLoggingTimeout=null,this.clearSubsequentTimeout=null,this.waitForSubsequent=!1,this.waitForLogged=!1,this.waitForDelayLogged=!1,this.isNonViewableLogged=!1,this.isVisible=!1,this.iframeLogged=!1,this.banzaiLogged=!1,this.topLeftInViewport=!1,this.bottomRightInViewport=!1,t.onUnload(this.checkAndLogImpressionIfPendingOnExit),t.onLeave(this.checkAndLogImpressionIfPendingOnExit),D(function(a){a===!0&&g.setEnabled(!0)})}a.prototype.getID=function(){"use strict";return this.id};a.prototype.getConfig=function(){"use strict";return this.config};a.prototype.getPercentInViewport=function(){"use strict";var a=C(),b=B(this.element);return this.$1(a,b)};a.prototype.$2=function(a,b,c){__p&&__p();c===void 0&&(c=0);if(b.x<a.width&&b.x+b.width>0&&b.y<a.height&&b.y+b.height>c&&u.get(this.element,"visibility")!=="hidden"&&u.get(this.element,"opacity")!=="0"){var d=Math.max(b.x,0),e=Math.min(b.x+b.width,a.width);c=Math.max(b.y,c);a=Math.min(b.y+b.height,a.height);if(b.height*b.width===0)return 100;e=100*(e-d)*(a-c)/(b.height*b.width);return e}return 0};a.prototype.$1=function(a,b){"use strict";return this.config.require_horizontally_onscreen&&w.isHorizontallyOffscreen(this.element,b,a)?0:this.$2(a,b)};a.prototype.$3=function(a,b,c){"use strict";a=this.$2(a,b,c);if(a===0)return s.NO_VISIBLE;else if(a<50)return s.VISIBLE_0_PCT;else if(a<100)return s.VISIBLE_50_PCT;else return s.VISIBLE_100_PCT};a.prototype.$4=function(a,b,c){c===void 0&&(c=0);var d=Math.max(b.y,c);b=Math.min(b.y+b.height,a.height);b=100*(b-d)/(a.height-c);if(b<50)return s.VISIBLE_0_PCT;else if(b<100)return s.VISIBLE_50_PCT;else return s.VISIBLE_100_PCT};a.prototype.$5=function(a,b){"use strict";__p&&__p();var c=0,d=A("pagelet_bluebar");d&&d.offsetHeight&&(c=d.offsetHeight+d.offsetTop);if(this.config.should_log_viewport_duration){d=this.$4(a,b,c);switch(d){case s.VISIBLE_0_PCT:case s.VISIBLE_50_PCT:case s.VISIBLE_100_PCT:this.emit("viewport_viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:d});break;default:break}}d=this.$3(a,b,c);switch(d){case s.VISIBLE_0_PCT:case s.VISIBLE_50_PCT:case s.VISIBLE_100_PCT:this.emit("viewability",{tracker:this,id:this.getID(),token:this.getToken(),percentVisible:d});break;default:this.emit("hidden",{id:this.getID(),token:this.getToken()});break}};a.prototype.$6=function(a,b){"use strict";if(u.get(this.element,"visibility")==="hidden"||u.get(this.element,"opacity")==="0")return!1;var c=b.x,d=b.y,e=b.x+b.width;b=b.y+b.height;this.topLeftInViewport=this.topLeftInViewport||c>=0&&c<=a.width&&d>=0&&d<=a.height;this.bottomRightInViewport=this.bottomRightInViewport||e>=0&&e<=a.width&&b>=0&&b<=a.height;return this.topLeftInViewport&&this.bottomRightInViewport};a.prototype.$7=function(a,b){"use strict";if(this.hasEmittedFullViewEvent)return;this.$6(a,b)&&(this.emit("full_view",{tracker:this,id:this.getID(),token:this.getToken(),fullViewType:o.ENTIRE_UNIT}),this.hasEmittedFullViewEvent=!0)};a.prototype.onVisible=function(a){"use strict";__p&&__p();this.isVisible=!0;a=C();var b=B(this.element),c=this.$1(a,b),d=c>this.config.pixel_in_percentage,e=[],f;(this.config.skip_imp_if_no_images||this.config.check_images_before_log)&&(e=Array.from(this.element.querySelectorAll("img")),f=Array.from(this.element.getElementsByClassName("_7cqq")),j.bumpEntityKey("feed_ads","ViewableImpressionTracker.delayLogImpression.isFeedLoadedCheck."+(e.length===0)+"."+(f.length===0)));if(this.config.skip_imp_if_no_images&&e.length===0)return;this.emit("visible",{tracker:this,id:this.getID(),token:this.getToken(),percentInViewport:c});this.config.should_log_viewability_duration&&this.$5(a,b);this.$7(a,b);if(!d){this.$8();return}this.isLogged()?this.$9():this.$10();!this.waitForLogged&&!this.waitForDelayLogged&&!this.isLogged()&&!(h.blockInvisible&&x.isHidden())&&(this.waitForLogged=!0,this.viewableTimeout=setTimeout(function(){__p&&__p();this.waitForLogged=!1;if(h.blockInvisible&&x.isHidden())return;var a=this.getPercentInViewport();a=a>this.config.pixel_in_percentage;if(!a){this.$11();return}this.config.check_images_before_log&&(e.length===0&&j.bumpEntityKey("feed_ads","ViewableImpressionTracker.log_without_load."+this.config.trackable_identifier));if(g.getEnabled()&&this.config.can_delay_log_impression===!0){this.waitForDelayLogged=!0;a=h.maxHiddenCheckDelay;a=a-this.config.duration_in_ms;a<0&&(a=0);this.delayedLoggingTimeout=setTimeout(this.delayLogImpression,a)}else this.logImpression(1,!1,{}),this.$9()}.bind(this),this.config.duration_in_ms))};a.prototype.onHidden=function(){"use strict";this.emit("hidden",{id:this.getID(),token:this.getToken()}),this.config.log_initial_nonviewable&&!this.isLogged()&&!this.isNonViewableLogged?this.logNonViewableImpression():!this.config.log_initial_nonviewable&&!this.isLogged()&&this.isVisible&&this.logNonViewableImpression(),this.isVisible=!1,this.waitForLogged&&(this.waitForLogged=!1,clearTimeout(this.viewableTimeout)),this.isLogged()&&!this.waitForSubsequent&&this.config.subsequent_gap_in_ms>=0&&(this.waitForSubsequent=!0,this.clearSubsequentTimeout=setTimeout(function(){this.waitForSubsequent=!1,this.reset(),this.isVisible&&this.onVisible()}.bind(this),this.config.subsequent_gap_in_ms)),this.$11()};a.prototype.onRemoved=function(){"use strict";this.isVisible=!1};a.prototype.getToken=function(){"use strict";return l.getDataAttribute(this.element,"data-xt")};a.prototype.logImpression=function(a,b,c){"use strict";__p&&__p();if(this.isLogged())return;var d=this.getToken(),e=Math.floor(Date.now()/1e3),f=this.$12(),g=Date.now()+"_"+(F(0,4294967295)+1);d={xt:d,isv:a,cts:e,csp:f,hba:b,etid:g};if(i.isEnabled("xtrackable_clientview_batch")&&this.config.should_batch||this.config.vital_mode_for_ss||this.config.signal_mode_for_ss){a=this.config.vital_mode_for_ss?i.VITAL:{};a.signal=this.config.signal_mode_for_ss;this.logWithBanzai(d,a);h.runBotDetection&&n.appendToWindow(g,"FACEBOOK_WEB_ADS","IMPRESSION")}else this.logWithIFrame(Object.assign(d,c))};a.prototype.logNonViewableImpression=function(){"use strict";if(this.config.nonviewableEnabled){var a=this.getToken();i.post("xtrackable:nonviewable",{xt:a})}this.isNonViewableLogged=!0};a.prototype.isLogged=function(){"use strict";return this.iframeLogged||this.banzaiLogged};a.prototype.reset=function(){"use strict";this.iframeLogged&&(this.iframeLogged=!1),this.iframe&&(m.remove(this.iframe),this.iframe=null),this.banzaiLogged&&(this.banzaiLogged=!1),this.isNonViewableLogged=!1,this.isVisible=!1,this.waitForLogged=!1,this.waitForDelayLogged=!1,this.waitForSubsequent=!1};a.prototype.logWithBanzai=function(a,b){"use strict";this.banzaiLogged=!0,k.maybeLogClientViewEvent(a),i.post("xtrackable:clientview_batch",a,b)};a.prototype.logWithIFrame=function(a){"use strict";this.iframeLogged=!0,this.config.is_instream_story?r.loadIFrame(new v(this.config.impressionURL).addQueryData(a).toString()):(this.iframe=m.create("iframe",{src:new v(this.config.impressionURL).addQueryData(a),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"}),this.iframe.setAttribute("aria-hidden","true"),m.appendContent(this.element,this.iframe))};a.prototype.$12=function(){"use strict";__p&&__p();var a=l.getDataAttribute(this.element,"data-dedupekey");if(a===null)return null;var b=this.$13();if(b===null||b.length===0)return null;var c=b.length;while(--c>=0){var d=l.getDataAttribute(b[c],"data-dedupekey");if(d!==null&&a===d)break}return c+1};a.prototype.$13=function(){"use strict";__p&&__p();var a=A("contentArea");if(a){var b="._5jmm";a=m.scry(a,b);return a.filter(function(a){return l.getDataAttribute(a,"data-dedupekey")})}else{b=A("m_newsfeed_stream");return b===null?null:b.getElementsByTagName("article")}};a.prototype.$14=function(){"use strict";return 0};a.prototype.$8=function(){"use strict";this.$14()&&(u.set(this.element,"background-color","#abab9a"),u.set(this.element,"outline","3px solid #abab9a"))};a.prototype.$10=function(){"use strict";this.$14()&&(u.set(this.element,"background-color","#e4f70a"),u.set(this.element,"outline","3px solid #e4f70a"))};a.prototype.$11=function(){"use strict";this.$14()&&(u.set(this.element,"background-color",null),u.set(this.element,"outline",null))};a.prototype.$9=function(){"use strict";this.$14()&&(u.set(this.element,"background-color","#047515"),u.set(this.element,"outline","3px solid #047515"))};E(a,{visible:!0,hidden:!0,full_view:!0,viewability:!0,viewport_viewability:!0,viewability_debug:!0});e.exports=a}),null);
__d("VisibilityUnitType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FEED_UNIT:"feed_unit",VIEWPORT:"viewport"})}),null);
__d("ViewabilityDurationSegmentLogger",["Banzai","PercentVisible","ViewableImpressionTracker","VisibilityUnitType"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=8e3;l.logFromViewableImpressionTracker=function(a){var b=new l();b.subscribeToTrackerEvents(a)};function l(){this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map(),this.$5=new Map()}l.prototype.subscribeToTrackerEvents=function(a){a.addListener("viewability",this.onViewable.bind(this)),a.addListener("viewport_viewability",this.onViewport.bind(this)),a.addListener("hidden",this.onHidden.bind(this))};l.prototype.onViewable=function(a){__p&&__p();var b=a.id,c=a.percentVisible,d=Date.now(),e;switch(c){case h.VISIBLE_0_PCT:c=this.$1.get(b);!c?this.$6(a,h.VISIBLE_0_PCT,d,j.FEED_UNIT):this.$7(c,b,d);c=this.$2.get(b);c&&(e=this.$8(c,b,d,!0),this.$9(e,b));c=this.$4.get(b);c&&(e=this.$8(c,b,d,!0),this.$9(e,b));break;case h.VISIBLE_50_PCT:c=this.$1.get(b);!c?this.$6(a,h.VISIBLE_0_PCT,d,j.FEED_UNIT):this.$7(c,b,d);c=this.$2.get(b);!c?this.$6(a,h.VISIBLE_50_PCT,d,j.FEED_UNIT):this.$7(c,b,d);c=this.$4.get(b);c&&(e=this.$8(c,b,d,!0),this.$9(e,b));break;case h.VISIBLE_100_PCT:c=this.$1.get(b);!c?this.$6(a,h.VISIBLE_0_PCT,d,j.FEED_UNIT):this.$7(c,b,d);c=this.$2.get(b);!c?this.$6(a,h.VISIBLE_50_PCT,d,j.FEED_UNIT):this.$7(c,b,d);c=this.$4.get(b);!c?this.$6(a,h.VISIBLE_100_PCT,d,j.FEED_UNIT):this.$7(c,b,d);break}};l.prototype.onViewport=function(a){__p&&__p();var b=a.id,c=a.percentVisible,d=Date.now(),e;switch(c){case h.VISIBLE_0_PCT:c=this.$3.get(b);c&&(e=this.$8(c,b,d,!0),this.$9(e,b));c=this.$5.get(b);c&&(e=this.$8(c,b,d,!0),this.$9(e,b));break;case h.VISIBLE_50_PCT:c=this.$3.get(b);!c?this.$6(a,h.VISIBLE_50_PCT,d,j.VIEWPORT):this.$7(c,b,d);c=this.$5.get(b);c&&(e=this.$8(c,b,d,!0),this.$9(e,b));break;case h.VISIBLE_100_PCT:c=this.$3.get(b);!c?this.$6(a,h.VISIBLE_50_PCT,d,j.VIEWPORT):this.$7(c,b,d);c=this.$5.get(b);!c?this.$6(a,h.VISIBLE_100_PCT,d,j.VIEWPORT):this.$7(c,b,d);break}};l.prototype.onHidden=function(a){a=a.id;var b=Date.now(),c=this.$1.get(a),d=this.$2.get(a),e=this.$3.get(a),f=this.$4.get(a),g=this.$5.get(a);c&&this.$9(this.$8(c,a,b,!0),a);d&&this.$9(this.$8(d,a,b,!0),a);e&&this.$9(this.$8(e,a,b,!0),a);f&&this.$9(this.$8(f,a,b,!0),a);g&&this.$9(this.$8(g,a,b,!0),a)};l.prototype.$6=function(a,b,c,d){c={token:a.token,startedTrackingTS:c,percentVisible:b,visibilityUnit:d,intervalMs:0,cumulativeMs:0,segmentIdx:0};switch(b){case h.VISIBLE_0_PCT:this.$1.set(a.id,c);break;case h.VISIBLE_50_PCT:d===j.FEED_UNIT?this.$2.set(a.id,c):this.$3.set(a.id,c);break;case h.VISIBLE_100_PCT:d===j.FEED_UNIT?this.$4.set(a.id,c):this.$5.set(a.id,c);break}};l.prototype.$8=function(a,b,c,d){__p&&__p();c=c-a.startedTrackingTS;var e=c-a.cumulativeMs,f=a.percentVisible;e={token:a.token,startedTrackingTS:a.startedTrackingTS,percentVisible:f,visibilityUnit:a.visibilityUnit,intervalMs:e,cumulativeMs:c,segmentIdx:++a.segmentIdx};d&&(e.duration=c);switch(f){case h.VISIBLE_0_PCT:this.$1.set(b,e);break;case h.VISIBLE_50_PCT:a.visibilityUnit===j.FEED_UNIT?this.$2.set(b,e):this.$3.set(b,e);break;case h.VISIBLE_100_PCT:a.visibilityUnit===j.FEED_UNIT?this.$4.set(b,e):this.$5.set(b,e);break}return e};l.prototype.$7=function(a,b,c){var d=a.intervalMs,e=c-a.startedTrackingTS-a.cumulativeMs;if(this.$10(d,e)){d=this.$8(a,b,c,!1);g.post("xtrackable:viewability",d,g.VITAL)}};l.prototype.$10=function(a,b){if(a>=k)return!1;if(a==0)return!0;if(a<1e3)return b>=1e3;a=a/1e3;b=b/1e3;return b>=2*a};l.prototype.$9=function(a,b){var c=a.percentVisible;switch(c){case h.VISIBLE_0_PCT:this.$1["delete"](b);break;case h.VISIBLE_50_PCT:a.visibilityUnit===j.FEED_UNIT?this.$2["delete"](b):this.$3["delete"](b);break;case h.VISIBLE_100_PCT:a.visibilityUnit===j.FEED_UNIT?this.$4["delete"](b):this.$5["delete"](b);break}g.post("xtrackable:viewability",a,g.VITAL)};e.exports=l}),null);
__d("ViewableImpressionDurationLogger",["Banzai"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();h.logFromViewableImpressionTracker=function(a){var b=new h();b.subscribeToTrackerEvents(a)};function h(){this.$1=new Map()}h.prototype.subscribeToTrackerEvents=function(a){a.addListener("visible",this.onElementVisible.bind(this)),a.addListener("hidden",this.onElementHidden.bind(this))};h.prototype.onElementVisible=function(a){if(this.$1.get(a.id))return null;var b={token:a.token,startedTrackingTS:this.getTimeNow()};this.$1.set(a.id,b);return b};h.prototype.onElementHidden=function(a){var b=this.$1.get(a.id);if(!b)return!1;b.trackingDuration=this.getTimeNow()-b.startedTrackingTS;return this.sendLog(a.id)};h.prototype.sendLog=function(a){var b=this.$1.get(a);if(!b||!b.trackingDuration)return!1;g.post("xtrackable:duration",b);this.$1["delete"](a);return!0};h.prototype.getTimeNow=function(){return parseFloat((Date.now()/1e3).toFixed(2))};e.exports=h}),null);
__d("ViewableImpressionHeatmapLogger",["Banzai"],(function(a,b,c,d,e,f,g){__p&&__p();h.logFromViewableImpressionTracker=function(a,b){"use strict";b=new h(b);b.subscribeToTrackerEvents(a)};function h(a){"use strict";this.loggingDurationMS=a,this.trackingEntries={}}h.prototype.subscribeToTrackerEvents=function(a){"use strict";this.visibleSubscription=a.addListener("visible",this.onElementVisible,this),this.hiddenSubscription=a.addListener("hidden",this.onElementHidden,this)};h.prototype.onElementVisible=function(a){"use strict";var b=this.getCurrentTimestamp(),c=this.trackingEntries[a.id];c||(c=this.createTrackingEntry(a),this.beginTracking(a.id,c),b=c.startedTrackingTS);c.viewportProgressEvents.push({timestamp:b,percentInViewport:a.percentInViewport.toFixed(2)})};h.prototype.onElementHidden=function(a){"use strict";var b=this.getCurrentTimestamp();a=this.trackingEntries[a.id];if(!a)return;a.viewportProgressEvents.push({timestamp:b,percentInViewport:0})};h.prototype.onTrackingCompleted=function(a){"use strict";var b=this.trackingEntries[a];b.viewportProgressEvents.push({timestamp:this.getCurrentTimestamp(),percentInViewport:b.tracker.getPercentInViewport().toFixed(2)});this.$1()&&this.$2(a,b);this.logToServer(b);delete this.trackingEntries[a]};h.prototype.logToServer=function(a){"use strict";a=a;delete a.tracker;g.post("xtrackable:heatmap",a)};h.prototype.beginTracking=function(a,b){"use strict";this.trackingEntries[a]=b,setTimeout(function(){return this.onTrackingCompleted(a)}.bind(this),this.loggingDurationMS)};h.prototype.createTrackingEntry=function(a){"use strict";return{tracker:a.tracker,token:a.token,startedTrackingTS:this.getCurrentTimestamp(),viewportProgressEvents:[]}};h.prototype.getCurrentTimestamp=function(){"use strict";return(Date.now()/1e3).toFixed(2)};h.prototype.$1=function(){"use strict";return 0};h.prototype.$2=function(a,b){"use strict";var c="Completed tracking for id "+a+" token="+b.token+" startedTrackingTS="+b.startedTrackingTS+"\n";b.viewportProgressEvents.forEach(function(a){c+="% in view: "+a.percentInViewport+" timestamp="+a.timestamp+"\n"})};e.exports=h}),null);
__d("getContextualParent",["ge"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,b){__p&&__p();b===void 0&&(b=!1);var c=!1;a=a;do{if(a instanceof Element){var d=a.getAttribute("data-ownerid");if(d){a=g(d);c=!0;continue}}a=a.parentNode}while(b&&a&&!c);return a}e.exports=a}),null);
__d("collectDataAttributes",["DataAttributeUtils","getContextualParent"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="normal";function a(a,b,c){__p&&__p();var d={},e=[],f=b.length,j;for(j=0;j<f;++j)d[b[j]]={},e.push("data-"+b[j]);if(c){d[i]={};for(j=0;j<(c||[]).length;++j)e.push(c[j])}c={tn:"","tn-debug":","};a=a;while(a){if(a.getAttribute)for(j=0;j<e.length;++j){var k=e[j],l=g.getDataAttribute(a,k);if(l){if(j>=f){d[i][k]===void 0&&(d[i][k]=l);continue}k=JSON.parse(l);for(var m in k)c[m]!==void 0?(d[b[j]][m]===void 0&&(d[b[j]][m]=[]),d[b[j]][m].push(k[m])):d[b[j]][m]===void 0&&(d[b[j]][m]=k[m])}}a=h(a)}for(var n in d)for(var o in c)d[n][o]!==void 0&&(d[n][o]=d[n][o].join(c[o]));return d}e.exports=a}),null);
__d("VisibilityTracking",["Banzai","BrowseClientEventLogger","DataAttributeUtils","ErrorUtils","ScriptPath","SubscriptionsHandler","Visibility","VisibilityTrackingHelper","collectDataAttributes","getElementPosition","pageID","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s="visibility_tracking",t="[data-vistracking]",u=500,v=50,w=50,x=50,y=50,z=0;function A(a){"use strict";__p&&__p();a=a||{};if(!a.bypass_banzai_check&&!g.isEnabled(s))return;this.visibleElementInfo={};this.getDataFromConfig(a);m.addListener(m.VISIBLE,j.guard(function(){return this.fireEvent("browser")}.bind(this),"VisibilityTracking:visible",this));m.addListener(m.HIDDEN,j.guard(function(){return this.clearAllVisibleElements("browser")}.bind(this),"VisibilityTracking:hidden",this));k.subscribe(j.guard(function(){return this.updateVisibleElements()}.bind(this),"VisibilityTracking:scriptPath",this));g.subscribe(g.SHUTDOWN,j.guard(function(){return this.onUnload()}.bind(this),"VisibilityTracking:banzaiShutdown",this));this.fireEventCallback=r.acrossTransitions(j.guard(function(a){return this.fireEvent(a)}.bind(this),"VisibilityTracking:fireEventCallback",this),this.timeout,this);this.listeners=new l();n.getEventListeners(function(){return this.fireEventCallback()}.bind(this)).forEach(function(a){this.listeners.addSubscriptions(a)},this);this.extraInit&&j.applyWithGuard(this.extraInit.bind(this))}A.prototype.getDataFromConfig=function(a){"use strict";this.config=a,this.root=a.root||document.documentElement,this.selector=a.selector||t,this.visibleEventCallBack=a.visibleEventCallBack||function(){},this.timeout=a.timeout!==void 0?a.timeout:u,this.minOffsetVisibleFromBottom=a.minOffsetVisibleFromBottom!==void 0?a.minOffsetVisibleFromBottom:v,this.minOffsetVisibleFromTop=a.minOffsetVisibleFromTop!==void 0?a.minOffsetVisibleFromTop:w,this.minOffsetVisibleFromLeft=a.minOffsetVisibleFromLeft!==void 0?a.minOffsetVisibleFromLeft:x,this.minOffsetVisibleFromRight=a.minOffsetVisibleFromRight!==void 0?a.minOffsetVisibleFromRight:y,this.handleAllHiddenEvents=a.handleAllHiddenEvents!==void 0?a.handleAllHiddenEvents:!1,this.handleAllVisibleEvents=a.handleAllVisibleEvents!==void 0?a.handleAllVisibleEvents:!1,this.cacheTrackedElements=a.cacheTrackedElements!==void 0?a.cacheTrackedElements:!1};A.prototype.getAllTrackedElements=function(){"use strict";__p&&__p();if(!this.allTrackedElements){this.allTrackedElements={};var a=[];this.config.is_xtrackable?a=i.getXTrackableElements():this.root&&this.root.querySelectorAll&&(a=this.root.querySelectorAll(this.selector));for(var b=0;b<a.length;b++){var c=this.getElementID(a[b]);this.allTrackedElements[c.toString()]=a[b]}}return this.allTrackedElements};A.prototype.refreshAllTrackedElements=function(){"use strict";delete this.allTrackedElements;return this.getAllTrackedElements()};A.prototype.getDataToLog=function(a){"use strict";a=Object.assign(o(a,["gt"]).gt,{client_time:Date.now()/1e3,time_spent_id:q,script_path:k.getScriptPath()});return a};A.prototype.getElementID=function(a){"use strict";var b=a.$1;if(b)return b;a.$1=++z;return z};A.prototype.sendDataToLog=function(a){"use strict";h.maybeLogVisiblityEvent(a),g.post(s,a)};A.prototype.isInstreamAdStoryElement=function(a){"use strict";return!1};A.prototype.fireEvent=function(a){a===void 0&&(a="default");var b=this.cacheTrackedElements?this.allTrackedElements:this.refreshAllTrackedElements();for(var c in b){var d=b[c],e=n.getViewportInfo();e=this.isVisible(d,e);!e&&(c in this.visibleElementInfo||this.handleAllHiddenEvents)?this.handleEvent(d,{name:"hidden",cause:a}):e&&(!(c in this.visibleElementInfo)||this.handleAllVisibleEvents)&&this.handleEvent(d,{name:"visible",cause:a})}this.clearUntrackedVisibleElements()};A.prototype.isVisible=function(a,b){"use strict";if(a==null)return!1;a=p(a);return!!(a.x||a.y||a.width||a.height)&&a.y+a.height>=this.minOffsetVisibleFromTop&&a.y<=b.height-this.minOffsetVisibleFromBottom&&a.x+a.width>=this.minOffsetVisibleFromLeft&&a.x<=b.width-this.minOffsetVisibleFromRight};A.prototype.handleEvent=function(a,b){"use strict";__p&&__p();var c=this.getElementID(a).toString(),d=this.getDataToLog(a),e;if(b.name==="visible"){var f=Math.floor(Date.now()/1e3);e=q.concat(":",f.toString(),":",this.getElementID(a).toString());this.visibleElementInfo[c]={visibility_id:e,elem:a}}else if(b.name==="hidden"){c in this.visibleElementInfo&&(e=this.visibleElementInfo[c].visibility_id,delete this.visibleElementInfo[c]);if(b.cause==="browser")return}this.sendDataToLog(Object.assign(d,{event:b.name,visibility_id:e}))};A.prototype.clearUntrackedVisibleElements=function(){"use strict";var a=this.getAllTrackedElements();for(var b in this.visibleElementInfo)if(!(b in a)){var c=this.visibleElementInfo[b];c.elem&&this.handleEvent(c.elem,{name:"hidden",cause:"removed"})}};A.prototype.clearAllVisibleElements=function(a){a===void 0&&(a="default");var b=this.getAllTrackedElements();for(var c in b)c in this.visibleElementInfo&&this.handleEvent(b[c],{name:"hidden",cause:a});this.clearUntrackedVisibleElements()};A.prototype.updateVisibleElements=function(){"use strict";this.clearAllVisibleElements(),this.fireEvent()};A.prototype.refreshAndFireEvent=function(a){"use strict";this.refreshAllTrackedElements(),this.fireEventCallback(a)};A.prototype.onUnload=function(){"use strict";this.clearAllVisibleElements(),this.listeners&&(this.listeners.release(),this.listeners=null),this.extraCleanup&&j.applyWithGuard(this.extraCleanup.bind(this))};A.init=function(a){"use strict";return new A(a)};e.exports=A}),null);
__d("ViewableImpressionEventHandler",["DataAttributeUtils","FullViewLogger","ViewabilityDurationSegmentLogger","ViewableImpressionDurationLogger","ViewableImpressionHeatmapLogger","ViewableImpressionTracker","VisibilityTracking"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n,o,p=1;n=babelHelpers.inherits(a,m);o=n&&n.prototype;a.prototype.extraInit=function(){this.impressionTrackers={}};a.prototype.getDataFromConfig=function(a){o.getDataFromConfig.call(this,a),this.doHeatmapLogging=a.doHeatmapLogging,this.heatmapLoggingDurationMS=a.heatmapLoggingDurationMS,a.impressionURL=a.impressionURL!==void 0?a.impressionURL:"/xti.php",a.nonviewableEnabled=a.nonviewableEnabled!==void 0?a.nonviewableEnabled:!1};a.prototype.getImpressionTracking=function(a){__p&&__p();var b=this.getElementID(a),c=this.impressionTrackers[b];if(!c){var d=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);c=new l(b,a,d);this.impressionTrackers[b]=c;d.log_impression_duration&&j.logFromViewableImpressionTracker(c);this.doHeatmapLogging&&k.logFromViewableImpressionTracker(c,this.heatmapLoggingDurationMS);d.should_log_full_views&&h.logFromViewableImpressionTracker(c);d.should_log_viewability_duration&&i.logFromViewableImpressionTracker(c)}return c};a.prototype.handleEvent=function(a,b){var c=this.getImpressionTracking(a);if(!c)return;if(b.name==="visible")c.onVisible(b),this.visibleElementInfo[c.getID()]||(this.visibleElementInfo[c.getID()]={elem:a});else if(b.name==="hidden"){a=c.getConfig();b.cause==="default"||a.log_visibility_hidden_when_browser_inactive&&b.cause==="browser"?(c.onHidden(),delete this.visibleElementInfo[c.getID()]):b.cause==="removed"&&(c.onRemoved(),delete this.visibleElementInfo[c.getID()],delete this.impressionTrackers[c.getID()])}};a.prototype.isInstreamAdStoryElement=function(a){a=babelHelpers["extends"]({},this.getConfigFromElement(a),this.config);return!!a.is_instream_story};a.prototype.getConfigFromElement=function(a){return JSON.parse(g.getDataAttribute(a,"data-xt-vimp"))};a.prototype.getElementID=function(a){a.getAttribute("id")||a.setAttribute("id","xt_uniq_"+p++);return a.getAttribute("id")};function a(){n.apply(this,arguments)}e.exports=a}),null);
__d("MViewableImpressionTracking",["ErrorUtils","MViewableImpressionConfig","Stratcom","ViewableImpressionEventHandler"],(function(a,b,c,d,e,f,g,h,i,j){a={init:function(){j.instance===void 0&&(j.instance=new j(h),i.listen(["m:ajax:complete","m:feed:new-stories-loaded","m:more_item_automatic:items_loaded","m:onload","m-timeline-section-loader:complete","m-timeline-section-loader:init","m:profile:teaser-list:expanded","m:stories:card-hidden","m:stories:card-loaded","m:viewport:update-complete"],null,g.guard(function(){if(j.instance===void 0){i.removeCurrentListener();return}j.instance.refreshAndFireEvent()},"MViewableImpressionTracking")),i.listen("m:page:unload",null,g.guard(function(){delete j.instance,j.instance=void 0},"MViewableImpressionTracking")))}};e.exports=a}),null);
__d("MShareAngoraAttachment",["Stratcom"],(function(a,b,c,d,e,f,g){__p&&__p();var h=!1;a=function(a){if(h)return;h=!0;window.addEventListener("error",function(a){if(a.target.nodeName=="IMG"){for(var a=a.target;a!=document.body&&!g.hasSigil(a,"shareAngoraAttachmentMedia");a=a.parentNode);a!=document.body&&(a.style.display="none")}},!0)};f.registerDeadImageListener=a}),null);