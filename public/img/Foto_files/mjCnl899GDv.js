if (self.CavalryLogger) { CavalryLogger.start_js(["fhQ29"]); }

__d("OGComposerConstants",[],(function(a,b,c,d,e,f){e.exports={EditAttachmentURI:"/ajax/composerx/attachment/edit/",ExercisesTypeID:718343998201893,TransitivityStateIntransitive:2}}),null);
__d("PrivacyConst",[],(function(a,b,c,d,e,f){e.exports={BaseValue:{FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100},FriendsValue:{EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVENT_PUBLIC:1493271774218406,EVENT_INVITE_ONLY:599950423437029},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:1067668039947624,COMPOSER_CUSTOM_EXCLUSION:1082068668536535,CAN_LIKE_AND_COMMENT_PUBLIC_PROFILE_MEDIA:1269423589794183,CAN_TAG_PUBLIC_PROFILE_MEDIA:260920744319731,CAN_DOWNLOAD_PUBLIC_PROFILE_MEDIA:410249702663051,CAN_SHARE_PUBLIC_PROFILE_MEDIA:1648969422065270,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171,FACEREC_ENROLLMENT:1709697052669794,DEVICE_PHOTO_PROCESSING:1798505450455620,SPACES_VR_OFFLINE_VISIT_PRIVACY:351913698615451,RESHARES_ON_TIMELINE_VISIBILITY:230094651068076,CAN_POST_TRIBUTES:298481070877996,CAN_SEE_TRIBUTE_POSTS:1909416226028186,RESHARE_TO_STORIES:282421212606762},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2,FRIENDS_TAGGED:6},ExpansionType:{NONE:0,TAGS_ONLY:1}}}),null);
__d("MCompositionUserActions",["MComposition","MCompositionConfigFields","MCompositionDispatcher","MCompositionShareFields","MCompositionStoreID","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=b("MCompositionConstants").ActionTypes;function m(a,b){i.handleUpdateFromUserAction({actionType:a,data:b})}a={configDisablePhotosUpdate:function(a){var b={};b[k.CONFIG]={};b[k.CONFIG][h.DISABLE_PHOTOS]=a;m(l.DISABLE_PHOTOS,b)},finalize:function(){m(l.COMPOSITION_FINALIZE,{})},initialize:function(a){m(l.COMPOSITION_INITIALIZE,a||{})},shareLinkUpdate:function(a){var b={};b[k.SHARE]={};b[k.SHARE][j.SHARE_URI]=a;m(l.SHARE_LINK_UPDATE,b)},shareRemoveLinkPreview:function(a){var b={};b[a]=!0;a={};a[k.SHARE]={};a[k.SHARE][j.DISABLED_LINKS]=b;m(l.SHARE_REMOVE_PREVIEW,a)},minutiaeRemove:function(){m(l.MINUTIAE_REMOVE,{})},minutiaeSet:function(a){var b={};b[k.MINUTIAE]=a;m(l.MINUTIAE_SET,b)},photoUpdate:function(a){var b={};b[k.PHOTO]=a;m(l.PHOTO_CHANGE,b)},audioUpdate:function(a){var b={};b[k.AUDIO]=a;m(l.AUDIO_CHANGE,b)},placeRemove:function(){m(l.PLACE_REMOVE,{})},placeSet:function(a){m(l.PLACE_SET,new g().setStoreData(k.PLACE,a).serialize())},statusUpdate:function(a){m(l.STATUS_CHANGE,new g().setStoreData(k.STATUS,a).serialize())},withUpdate:function(a){var b={};b[k.WITH_TAGS]=a;m(l.WITH_CHANGE,b)},groupSellUpdate:function(a){m(l.GROUP_SELL_UPDATE,new g().setStoreData(k.GROUP_SELL,a).serialize())},privacyUpdate:function(a){var b={};b[k.PRIVACY]=a;m(l.PRIVACY_CHANGE,b)},formatUpdate:function(a){var b;m(l.FORMAT_CHANGE,(b={},b[k.FORMAT]=a,b))}};e.exports=a}),null);
__d("MCompositionPrivacyFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRIVACY_FBID:"PRIVACY_FBID",CLOSE_DIALOG:"CLOSE_DIALOG",ALREADY_SAVED_STICKY:"ALREADY_SAVED_STICKY",NEVER_SAVE_STICKY:"NEVER_SAVE_STICKY",CUSTOM_LABEL:"CUSTOM_LABEL",CUSTOM_OPTION:"CUSTOM_OPTION"})}),null);
__d("MCompositionPrivacyStore",["MCompositionPrivacyFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){a=b("MCompositionConstants").ActionTypes;c=new h(i.PRIVACY,g).setRequiredFields(g.PRIVACY_FBID).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.PRIVACY_CHANGE,j.thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionShareStore",["MCompositionShareFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=b("MCompositionConstants").ActionTypes;var k=new h(i.SHARE,g).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.SHARE_LINK_UPDATE,function(a){return babelHelpers["extends"]({},k.getAll(),a)}).setHandlerFor(a.SHARE_REMOVE_PREVIEW,function(a){a=a||{};var b=g.DISABLED_LINKS,c=k.getAll(),d={};d[b]=babelHelpers["extends"]({},c[b],a[b]);d[g.SHARE_URI]=null;d[g.LINK_NO_CHANGE]=!1;return babelHelpers["extends"]({},c,d)}).register();e.exports=k}),null);
__d("SavedCustomPrivacyType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SPECIFIC_FRIENDS:"specific_friends",FRIENDS_EXCEPT:"friends_except"})}),null);
__d("XPrivacyCustomSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/custom/save/",{id:{type:"String"},allow:{type:"String"},deny:{type:"String"},settings:{type:"String"},dont_update_sticky:{type:"Bool",defaultValue:!1},return_uri:{type:"String"}})}),null);
__d("MSavedCustomAudienceSelector",["CSS","DOM","EventListener","LoadingIndicator","MCompositionPrivacyFields","MCompositionPrivacyStore","MModalDialog","MRequest","Parent","PrivacyConst","SavedCustomPrivacyType","Stratcom","XPrivacyCustomSaveController","csx","goURI"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";__p&&__p();function a(a,b,c,d,e,f,t,v,w,x){__p&&__p();this.setLoading=function(a){this.$2=a};this.$16=function(a){a=a.getNode("typeahead-result");var b=a.getAttribute("rel");this.$20(a.childNodes[0],b,!this.$9.has(b))};this.$13=function(a){var b=o.bySelector(a.target,"._5f25"),c=a.target.value;a=a.target.checked;this.$20(b,c,a)};this.$20=function(a,b,c){__p&&__p();if(!this.$8.has(b)){a=a.cloneNode(!0);g.removeClass(a,"touched");h.appendContent(this.$4,a);this.$8.add(b)}c?this.$9.add(b):this.$9["delete"](b);a=h.scry(this.$3,"input");a.forEach(function(a){a.value===b&&(a.checked=c)})};this.$14=function(a){a=a.target.value.trim()==="";this.$21(a)};this.$15=function(a){this.$6.value="",this.$21(!0)};this.$21=function(a){g.conditionShow(this.$3,a),g.conditionShow(this.$7,!a),a&&r.invoke("search-cancel")};this.getData=function(){var a=this.$22(),b=[],c=[];this.$10===q.FRIENDS_EXCEPT?(b=[p.CustomPrivacyTokens.FRIENDS],c=Array.from(this.$9)):b=Array.from(this.$9);return{id:this.$12,allow:b,deny:c,dontUpdateSticky:a}};this.$19=function(){var a=s.getURIBuilder().getURI();a=new n(a).setAutoProcess(!1).setMethod("POST").setData(this.getData());a.listen("done",function(a){r.invoke("MCustomPrivacy::save",null,a),this.$1()}.bind(this));this.$2();a.send()};this.$18=function(){j.show(),m.close({canceled:!1,goBack:!0})};this.$17=function(){u(this.$11)};this.setNavigation=function(a){this.$1=a};this.$22=function(){return this.$12==="0"?l.get(k.NEVER_SAVE_STICKY,!1):!0};this.isSelected=function(a){return this.$9.has(a)};this.$4=b;this.$3=a;this.$8=f;this.$9=t;this.$6=d;this.$7=e;this.$10=v;this.$11=w;this.$12=x;var y=[];y.push(i.listen(a,"change",this.$13.bind(this)));y.push(i.listen(c,"input",this.$14.bind(this)));y.push(i.listen(e,"click",this.$15.bind(this)));y.push(r.listen(["touchstart","mousedown"],"jx-typeahead-results",this.$16.bind(this)));this.$1=function(){return this.$17()}.bind(this);this.$2=function(){return this.$18()}.bind(this);y.push(r.listen("click","saved-custom-privacy-save",this.$19.bind(this)));y.push(r.listen([m.WILL_CLOSE_EVENT,m.STEP_CHANGE_EVENT,"m:page:unload"],null,function(){y&&y.forEach(function(a){a.remove()}),y=null}))}e.exports=a}),null);
__d("MSavedCustomAudienceSelectorStore",["CSS","DOM","MSavedCustomAudienceSelector"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a={_instances:{},_onNavigation:null,_onLoading:null,init:function(a,b,c,d,e,f,g,h,j,k){a=new i(a,b,c,d,e,f,g,h,j,k);this._onNavigation!==null&&a.setNavigation(this._onNavigation);this._onLoading!==null&&a.setLoading(this._onLoading);this._instances[h]=a},getInstance:function(a){return this._instances[a]},setNavigation:function(a){this._onNavigation=a},setLoading:function(a){this._onLoading=a},resetNavigationAndLoading:function(){this._onNavigation=null,this._onLoading=null},syncPagedItems:function(a,b){var c=h.scry(a,"input");c.forEach(function(a){this.getInstance(b).isSelected(a.value)&&(a.checked=!0)}.bind(this));g.show(a)}};e.exports=a}),null);
__d("XPrivacyCustomEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/custom/edit/",{post_id:{type:"String"},privacy_id:{type:"String"}})}),null);
__d("XPrivacyTimelineSavedCustomAudienceSelectorDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/timeline/saved_custom_audience_selector_dialog/",{selected_option:{type:"String"},has_tags:{type:"Bool",defaultValue:!1},use_small_icon:{type:"Bool",defaultValue:!1}})}),null);
__d("MBlackbirdTimelinePrivacySelectorListener",["CSS","DOM","MCompositionPrivacyFields","MCompositionPrivacyStore","MModalDialog","MRequest","MSavedCustomAudienceSelectorStore","Parent","Stratcom","URI","XPrivacyCustomEditController","XPrivacyTimelineSavedCustomAudienceSelectorDialogController","$","csx","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";__p&&__p();a={_privacyField:null,_activeCustomDialogID:null,_savedCustomType:null,_updateIcon:function(){},_customListener:null,_useSmallIcon:!1,initPrivacyButton:function(a,b,c,d){this._privacyField=b,this._useSmallIcon=d,h.listen(a,"click",null,function(){this.openSelector(a,c)}.bind(this))},openSelector:function(a,b){__p&&__p();b||h.hide(this._getComposerView());this._customListener===null&&this._setupCustomListener();m.setNavigation(function(){k.close({canceled:!1,goBack:!0})});m.setLoading(function(){k.setSpinnerVisibility(!0),k.setHeaderButtonsEnabledState(!1)});var c=h.scry(s("m_composer_privacy_selector"),"input")[0].value;k.open(r.getURIBuilder().setString("selected_option",c).setBool("has_tags",this._hasTags(a)).setBool("use_small_icon",this._useSmallIcon).getURI(),function(){b||(h.hide(s("viewport")),h.show(this._getComposerView()));if(this._hasTags(a)){var c=h.find(a,"span","plus-label");h.show(c)}}.bind(this))},initCustomMenuListener:function(a,b,c){h.listen(a,"click",null,function(){this._updateIcon=function(){var b=u("m_composer_privacy_selector");if(b){b=h.find(b,"div","privacy-button-icon");var c=h.scry(a,"i","small-icon")[0]||h.scry(a,"i","icon")[0];c!=null&&h.setContent(b,this._newIconFromElement(c))}}.bind(this)}.bind(this))},initSelectionListener:function(a){__p&&__p();var b=o.listen("MPrivacySettingsSelector:selected",null,function(b){b=b.getData();if(b.isCustom){var c=q.getURIBuilder().setString("privacy_id",b.value).getURI();k.load(c.toString());k.setHeaderButtonsEnabledState(!0)}else b.isSavedCustom||(this._updateIconForData(b),this._updateLabel(b.labelElement.innerText),this._updateSticky(a,b.value),o.invoke("MPrivacyComposerMenu::change",null,{value:b.value,showPlus:!0,iconHTML:b.iconElement,optionLabel:b.labelElement,instance:this}))}.bind(this));o.listen(["m:history:change","MCustomPrivacy::removeListener"],null,function(){b.remove(),o.removeCurrentListener()})},_setupCustomListener:function(){this._customListener=o.listen("MCustomPrivacy::save",null,function(a){a=a.getData();this._updateIcon();this._updateLabel(a.payload.description);this._privacyField.value=a.payload.value;o.invoke("MPrivacyComposerMenu::change",null,{value:a.payload.value})}.bind(this)),o.listen(["MCustomPrivacy::removeListener","m:page:unload"],null,function(){this._customListener&&this._customListener.remove(),this._customListener=null,o.removeCurrentListener(),m.resetNavigationAndLoading()}.bind(this))},_newIconFromElement:function(a){a=a.cloneNode(!0);return g.show(a)},_updateIconForData:function(a){this._privacyField.value=a.value;var b=u("m_composer_privacy_selector");if(b){b=h.find(b,"div","privacy-button-icon");h.setContent(b,this._newIconFromElement(a.smallIconElement||a.iconElement))}},_updateLabel:function(a){var b=u("m_composer_privacy_selector");if(b){b=h.scry(b,"span","button-text");b.length===1&&h.setContent(b[0],a)}},_getComposerView:function(){return s("composer-main-view-id")},_hasTags:function(a){a=n.bySelector(a,"._27-k");return a!==null},_updateSticky:function(a,b){__p&&__p();var c=j.get(i.NEVER_SAVE_STICKY,!1);if(!c){c=new l(a).setAutoProcess(!1).setMethod("POST").setData({privacyx:b});c.listen("done",function(){k.close({canceled:!1,goBack:!0})});k.setSpinnerVisibility(!0);k.setHeaderButtonsEnabledState(!1);c.send()}else k.close({canceled:!1,goBack:!0})}};e.exports=a}),null);
__d("MFriendsTaggerReact",["DOM","MLegacyDataStore","$","createDeprecatedProperties","eventsMixinDeprecated","getActiveElement","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();function n(a){"use strict";this.setRoot(a),g.listen(this.getRoot(),"click",null,this.$1.bind(this))}n.prototype.hide=function(){"use strict";var a=l();a&&a.blur();g.hide(this.getRoot())};n.prototype.show=function(){"use strict";g.show(this.getRoot()),this.getTokenizer().component.init(),this.onShow&&this.onShow()};n.prototype.clear=function(){"use strict";var a=g.find(this.getRoot(),"div","tokenizer");a=h.get(a);a.tokenizer&&(this.setEntries([]),this.onClear&&this.onClear())};n.prototype.hasTokens=function(){"use strict";return this.getEntries().length>0};n.prototype.getTokens=function(){"use strict";return this.getEntries().reduce(function(a,b){a[b.id]=b;return a},{})};n.prototype.removeToken=function(a){"use strict";this.getTokenizer().component.onRemoveFromCollection(a)};n.prototype.getEntries=function(){"use strict";return this.getTokenizer().component.getEntries()};n.prototype.setEntries=function(a){"use strict";this.getTokenizer().component.setEntries(a)};n.prototype.$1=function(a){"use strict";a.getNode("cancel_with_tagger")?this.$2():a.getNode("submit_with_tagger")&&this.$3()};n.prototype.$2=function(){"use strict";this.hide(),this.invoke("cancel",{})};n.prototype.$3=function(){"use strict";var a=this.getEntries();this.hide();this.invoke("submit",{tokens:a})};n.prototype.getTokenizer=function(){"use strict";var a=g.find(this.getRoot(),"div","tokenizer");a=h.get(a);a||m(0,1304);a.tokenizer||m(0,1305,Object.keys(a).join(" "));return a.tokenizer};n.prototype.setOnShow=function(a){"use strict";this.onShow=a};n.prototype.setOnClear=function(a){"use strict";this.onClear=a};n.fromID=function(a){"use strict";a=i(a);var b=h.get(a);b.$4||(b.$4=new n(a));return b.$4};n.getFriendIds=function(a){"use strict";return a.friend_ids?a.friend_ids:a.tokens.map(function(a){return a.id})};j(n,{root:null});k(n,["submit","cancel"]);e.exports=n}),null);
__d("MPlacesCategorySelector",["DOM","MLegacyDataStore","MRequest","Stratcom","createDeprecatedProperties","eventsMixinDeprecated"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();function a(a){"use strict";this._root=a,this._listeners=[j.listen("click",[a.getAttribute("data-sigil"),"cancel_places_category_selector"],this._cancel.bind(this)),j.listen("click",[a.getAttribute("data-sigil"),"category_option"],this._submit.bind(this))],this._currentlyMakingServerRequest=!1,this._viewcount=1}a.prototype.hide=function(){"use strict";g.hide(this._root)};a.prototype.show=function(){"use strict";g.show(this._root)};a.prototype.cleanup=function(){"use strict";while(this._listeners.length)this._listeners.pop().remove()};a.prototype._hideCurrentChild=function(){"use strict";for(var a=0;a<this._viewcount-1;a++){if(!this._root.childNodes[a])return;g.hide(this._root.childNodes[a])}};a.prototype._showCurrentChild=function(){"use strict";if(this._viewcount>=1){var a=this._getCurrentVisibleView();g.show(a)}};a.prototype._deleteLastChild=function(){"use strict";var a=this._root.childElementCount;a>=1&&g.remove(this._root.childNodes[a-1])};a.prototype._deleteAllChildren=function(){"use strict";var a=this._root.childElementCount;for(var b=a-1;b>=1;b--)g.remove(this._root.childNodes[b]);a>=1&&g.show(this._root.childNodes[0]);this._viewcount=1};a.prototype._getCurrentVisibleView=function(){"use strict";return this._root.childNodes[this._viewcount-1]};a.prototype._submit=function(a){"use strict";__p&&__p();if(this._currentlyMakingServerRequest)return;var b=this._getCurrentVisibleView(),c=g.find(b,"*","loading"),d=g.find(b,"div","category-list-view");b=h.get(a.getNode("category_option"));if(b.haschildren){this._currentlyMakingServerRequest=!0;this._hideCurrentChild();g.show(c);g.hide(d);var e=new i("/places/addform/category.php");e.listen("done",function(){this._viewcount=this._viewcount+1,this._hideCurrentChild(),this._currentlyMakingServerRequest=!1,g.hide(c),g.show(d)}.bind(this));e.addData({parent_category_id:b.id,target_id:this._root.id});e.setMethod("GET");e.send()}else{this._deleteAllChildren();this._currentid=null;e={category_name:b.name,category_value:b.id};this.hide();this.invoke("submit",e)}a.kill()};a.prototype._cancel=function(a){"use strict";if(this._currentlyMakingServerRequest)return;this._viewcount>1?(this._deleteLastChild(),this._viewcount--,this._showCurrentChild()):(this.hide(),this.invoke("cancel"))};l(a,["submit","cancel"]);k(a,{disableFacewebHooks:!1});Object.assign(a.prototype,{_root:null,_currentlyMakingServerRequest:null,_viewcount:null});e.exports=a}),null);
__d("MPlacesAddView",["DOM","FBJSON","MPlacesCategorySelector","MRequest","Stratcom","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null,u=null,v=null,w=null,x=null,y=null,z=null,A=null,B=null,C=null,D=!0,E={init:function(j){__p&&__p();m=l(j);if(!m)return;s=g.scry(m,"div","places-category-selector-container")[0];s?(p=new i(s),o=g.find(m,"div","add-place-form"),a=g.find(m,"div","new-place-name"),t=g.find(a,"input",""),b=g.find(m,"div","new-place-address"),u=g.find(b,"input",""),c=g.find(m,"div","new-place-phone"),v=g.find(c,"input",""),d=g.find(m,"div","new-place-website"),w=g.find(d,"input",""),f=g.find(m,"div","new-place-zip"),x=g.find(f,"input",""),A=g.scry(m,"input","is_current")[0],q=g.find(m,"span","category_input_display_text"),r=g.scry(m,"input","category_input_value")[0],y=g.scry(m.parentNode.parentNode,"div","place-header")[0],z=g.find(m,"div","address-error-box")):t=g.find(m,"input","new-place-name");n=g.find(m,"button","add_place_submit");this._listeners=[k.listen("click","add_place_submit",E._verifyAndSubmitAddPlace.bind(this)),k.listen("MStructuredComposer:cleanup",null,E._cleanup.bind(this)),k.listen("m:places:map:move",null,function(a){B=a.getData().lat,C=a.getData().lng}),k.listen("m:places:map:render",null,function(a){a=h.parse(a.getData(),e.id);B=a.latitude;C=a.longitude})];t.addEventListener("focus",function(){D&&(t.blur(),D=!1)});s&&(this._listeners.push(k.listen("click","category-selector",E._showCategorySelector.bind(this))),this._listeners.push(p.listen("cancel",E._cancelCategorySelector.bind(this))),this._listeners.push(p.listen("submit",E._submitCategorySelector.bind(this))))},_cleanup:function(){while(this._listeners.length)this._listeners.pop().remove();p&&p.cleanup()},_showCategorySelector:function(a){y&&g.hide(y),g.hide(o),g.show(s),a.kill()},_showAddButton:function(){return!r.value?!1:!0},_updateCategorySelector:function(a){if(q&&a){var b=a.category_name;a=a.category_value;g.setContent(q,b);a.length!==0&&(r.value=a,n.disabled&&E._showAddButton()&&(n.disabled=!1))}},_submitCategorySelector:function(a){E._updateCategorySelector(a),g.hide(s),g.show(o),k.invoke("m:places:addplace:show"),D=!0,y&&g.show(y)},_cancelCategorySelector:function(){g.hide(s),g.show(o),k.invoke("m:places:addplace:show"),D=!0,y&&g.show(y)},_verifyAndSubmitAddPlace:function(a){__p&&__p();var b={new_place:!0,name:t.value};s&&(b.phone=v.value,b.address=u.value,b.website=w.value,b.zip=x.value);b.is_current=!0;A&&(b.is_current=A.checked);B&&(b.latitude=B,b.longitude=C);if(r)b.topic_tokens=r;else{var c=g.scry(m,"span","token");b.topic_tokens=c}if(b.address){c=new j("/places/addform/verifyaddress.php");c.listen("done",function(c){c.actions.length===1?this._submitData(b,a):a.kill()}.bind(this));c.setData({address:b.address,latitude:b.latitude,longitude:b.longitude,target_id:z.id}).setMethod("GET").send()}else this._submitData(b,a)},_submitData:function(a,b){a.name.length!==0?(g.hide(m),k.invoke("m:places:addform:submit",null,a)):b.kill()}};e.exports=E}),null);
__d("MPlaces",["DOM","LoadingIndicator","MLegacyDataStore","MPageController","MRequest","Stratcom","URI","ViewerLocationSource","XPlacesUpdateLocationController","$","FWLoader"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q=b("FWLoader").FW,r={LINK_SIGIL:"gps-link",FORM_SIGIL:"gps-form",UPDATE_LOCATION_INTERVAL:6e4,desiredProperties:["latitude","longitude","accuracy","altitude","altitudeAccuracy","heading","speed"],locationOptions:{enableHighAccuracy:!0,timeout:6e4,maximumAge:3e5},watchID:null,pendingHref:"",pendingForm:null,_JSONLocation:"",_currentSearchMode:null,_lastUpdateTime:0,enableFWGeolocation:!0,locationSearchModes:{SEARCH_MODE:"m",MODE_COMPOSER:"cp",MODE_CHECKIN:"ci"},setCurrentJSONLocation:function(a){r._JSONLocation=a},getCurrentJSONLocation:function(){return r._JSONLocation},setLocationSearchMode:function(a){r._currentSearchMode=a},getLocationSearchMode:function(){return r._currentSearchMode},shouldUseFWGeolocation:function(){return window.FW_ENABLED&&q.isIOS()&&r.enableFWGeolocation},updateLocation:function(a){__p&&__p();if(a){r.shouldUseFWGeolocation()&&(a={coords:a});var b={},c;for(var d=0;d<r.desiredProperties.length;d++)c=r.desiredProperties[d],a.coords[c]&&(b[c]=a.coords[c]);a.timestamp&&(b.timestamp=a.timestamp/1e3);r._JSONLocation=JSON.stringify(b);r.sendCurrentLocationToServer();r.pendingForm?r.submitForm(r.pendingForm):r.pendingHref&&r.gotoPage(r.pendingHref);r.pendingForm=null;r.pendingHref="";l.invoke("location-update",null,{position:a})}},handleError:function(a){r.clearWatch(),l.invoke("location-error",null,{error:a}),r.pendingForm?(r.submitForm(r.pendingForm),r.pendingForm=null):r.pendingHref&&(r.gotoPage(r.pendingHref),r.pendingHref="")},sendCurrentLocationToServer:function(){var a=Date.now();if(a-r._lastUpdateTime>r.UPDATE_LOCATION_INTERVAL){r._lastUpdateTime=a;a=o.getURIBuilder().setString("json_location",r._JSONLocation).setEnum("source",n.MSITE_PLACES).getURI();new k(a).setMethod("POST").send()}},gotoPage:function(a){a=new m(a);a.addQueryData("json_location",r._JSONLocation);j.load(a)},submitForm:function(a){a.appendChild(g.create("input",{name:"json_location",type:"hidden",value:r._JSONLocation})),(!a.onsubmit||a.onsubmit())&&a.submit()},clearWatch:function(){if(!r.watchID)return;r.shouldUseFWGeolocation()?q.geolocation.clearWatch():navigator.geolocation.clearWatch(r.watchID);r.watchID=null},watchPosition:function(){if(r.shouldUseFWGeolocation())r.watchID=1,q.geolocation.watchPosition(r.updateLocation,r.handleError),q.geolocation.getCurrentPosition(r.updateLocation);else{var a=setTimeout(r.handleError,r.locationOptions.timeout);r.watchID=navigator.geolocation.watchPosition(function(b){clearTimeout(a),r.updateLocation(b)},function(b){clearTimeout(a),r.handleError(b)},r.locationOptions)}},monitorLocation:function(){r.clearWatch(),r.watchPosition(),k.listen("postprocess",function(){!document.getElementById("place_update")&&r.watchID&&r.clearWatch()})},submitFormWithLocation:function(a){__p&&__p();typeof a==="string"&&(a=p(a));var b=r;h.show();if(b.watchID&&b._JSONLocation){b.submitForm(a);return}b.pendingHref="";b.pendingForm=a;b.monitorLocation();return!1},gotoPageWithLocation:function(a){__p&&__p();var b=r;h.show();if(b.watchID&&b._JSONLocation){b.gotoPage(a);return}b.pendingForm=null;b.pendingHref=a;b.monitorLocation();return!1},onClick:function(a){a.kill();a=i.get(a.getNode(r.LINK_SIGIL));r.gotoPageWithLocation(a.href)},onSubmit:function(a){a.kill();a=g.find(a.getNode(r.FORM_SIGIL),"form");r.submitFormWithLocation(a)}};e.exports=r}),null);
__d("MPlacesTagger",["DOM","MLegacyDataStore","MParent","MPlaces","MRequest","MTaggingCounter","MTaggingCounterEvent","Stratcom","$","eventsMixinDeprecated","fbt","FWLoader"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=b("FWLoader").FW;function s(a,b){"use strict";this._root=a,this._addPlaceView=g.find(a,"div","add-place"),this._disableFacewebHooks=!1,this._errorMessage=g.find(a,"div","error-message"),this._isOpen=!1,this._searchView=g.find(a,"div","places-search"),this._throbber=g.find(a,"div","throbber"),this._locationToggle=g.scry(a,"div","location-toggle")[0],this._newPlaceName=g.scry(a,"div","new-place-name")[0],this._overrideLocation=b,this._newPlaceName?this._newPlaceNameTextbox=g.find(this._newPlaceName,"input",""):this._newPlaceNameTextbox=g.find(this._addPlaceView,"input","new-place-name"),window.FW_ENABLED||(this._placeHeader=g.find(a,"div","place-header")),this._listeners=[n.listen("click","cancel_at_tagger",this._cancel.bind(this)),n.listen("click","place_result",this._submit.bind(this)),n.listen("click","add_place_link",this._showAddPlace.bind(this)),n.listen("click","freeform_link",this._submitFreeformPlace.bind(this)),n.listen("click","get-location",this._getLocation.bind(this)),n.listen("click","abort-location",this._abortLocation.bind(this)),n.listen("m:places:addform:submit",null,this._submitAddPlace.bind(this)),n.listen("m:page:unload",null,this.cleanup.bind(this))]}s.prototype.cleanup=function(){"use strict";for(var a=0;a<this._listeners.length;a++)this._listeners[a].remove();this._listeners=[]};s.prototype.getDisableFacewebHooks=function(){"use strict";return this._disableFacewebHooks};s.prototype.getRoot=function(){"use strict";return this._root};s.prototype.hide=function(){"use strict";window.FW_ENABLED&&r.setNavBarButton("","1;"),g.hide(this._addPlaceView),g.show(this._searchView),g.hide(this._root),this._isOpen=!1};s.prototype.setDisableFacewebHooks=function(a){"use strict";this._disableFacewebHooks=a};s.prototype.show=function(){"use strict";this._isOpen=!0,this._locationToggle&&g.hide(this._throbber),window.FW_ENABLED?r.setNavBarButton(q._("Cancelar"),this._cancel.bind(this)):this._locationToggle&&!this._hasLocation&&g.show(this._locationToggle),this._locationToggle?this._showed():this._overrideLocation?setTimeout(function(){n.invoke("m:quicksearch:places:search-with-location",null,this._overrideLocation),this._showed()}.bind(this),0):!this._hasLocation&&"geolocation"in navigator?(l.logEvent(m.GEO_POPUP_LOAD),this._locationListener=n.listen("location-update",null,this._handleLocationUpdate.bind(this)),this._errorListener=n.listen("location-error",null,this._handleLocationError.bind(this)),j.monitorLocation()):this._showed(),g.show(this._root)};s.prototype._getLocation=function(){"use strict";!this._hasLocation&&"geolocation"in navigator&&(this._locationListener=n.listen("location-update",null,this._handleLocationUpdate.bind(this)),this._errorListener=n.listen("location-error",null,this._handleLocationError.bind(this)),g.show(this._throbber),g.hide(this._locationToggle),j.monitorLocation())};s.prototype._abortLocation=function(){"use strict";g.hide(this._throbber),g.hide(this._locationToggle),g.hide(this._errorMessage)};s.prototype._removeListeners=function(){"use strict";this._locationListener.remove(),this._errorListener.remove()};s.prototype._handleLocationUpdate=function(a){"use strict";this._removeListeners(),this._hasLocation=!0,n.invoke("m:quicksearch:places:search"),this._locationToggle||l.logEvent(m.GEO_POPUP_SUCCESS),this._showed()};s.prototype._handleLocationError=function(a){"use strict";this._removeListeners(),this._hasLocation=!1,g.show(this._errorMessage),g.hide(this._throbber),this._locationToggle?g.show(this._locationToggle):l.logEvent(m.GEO_POPUP_FAIL),this._showed()};s.prototype._showed=function(){"use strict";if(!this._isOpen)return;window.FW_ENABLED&&!this.getDisableFacewebHooks()&&(r.setNavBarTitle(q._("A\u00f1adir un lugar")),r.setNavBarButton(q._("Cancelar"),this._cancel.bind(this),r.BUTTON_CANCEL,!1,"left"));this.invoke("showed");g.show(this._root)};s.prototype._cancel=function(){"use strict";this.invoke("cancel").getPrevented()||(n.invoke("m:quicksearch:places:cancel"),this.hide())};s.prototype._submit=function(a){"use strict";__p&&__p();if(i.bySigil(a.getTarget(),"place-tagger")!==this._root)return;var b=h.get(a.getNode("place_result"));b.new_place=!1;this._placeResult=b;n.invoke("m:quicksearch:places:click",null,{results:a.getNode("id:places_search_results"),selected_result:a.getNode("place_result")});n.invoke("m:places-tagger:submit",null,b);this.invoke("submit",b);a.kill()};s.prototype._showAddPlace=function(a){"use strict";var b=h.get(a.getNode("add_place_link")).name;this._newPlaceNameTextbox.value=b;g.hide(this._searchView);g.show(this._addPlaceView);b=g.scry(this._addPlaceView,"*","map_view_container")[0];b&&new k("/places/showmap.php").addData({target_id:b.id}).setMethod("GET").send();n.invoke("m:places:addplace:show");a.kill()};s.prototype._submitAddPlace=function(a){"use strict";var b=a.getData();this.hide();this.invoke("submit",b);a.kill()};s.prototype._submitFreeformPlace=function(a){"use strict";var b=h.get(a.getNode("freeform_link"));this.hide();this.invoke("submit",b);a.kill()};s.fromID=function(a){"use strict";a=o(a);var b=h.get(a);b._placesTagger||(b._placesTagger=new s(a));return b._placesTagger};p(s,["searching","showed","submit","cancel"]);Object.assign(s.prototype,{_hasLocation:!1,_locationListener:null,_errorListener:null,_root:null,_addPlaceView:null,_errorMessage:null,_newPlaceName:null,_newPlaceNameTextbox:null,_searchView:null,_throbber:null,_listeners:null,_placeResult:null});e.exports=s}),null);
__d("MSubscriptionsHandlerMixin",["SubscriptionsHandler","destroyOnUnload"],(function(a,b,c,d,e,f,g,h){a={__subscriptionsHandler:null,addSubscriptions:function(){this.__subscriptionsHandler||(this.__subscriptionsHandler=new g(),h(function(){this.__subscriptionsHandler.release(),this.__subscriptionsHandler=null}.bind(this)));for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.__subscriptionsHandler.addSubscriptions.apply(this.__subscriptionsHandler,b)}};e.exports=a}),null);
__d("MComposerDialogClearablePreview",["DOM","MSubscriptionsHandlerMixin","Stratcom","mixin","mixInEventEmitter","MComposerDialogClearablePreviewConstants"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m=b("MComposerDialogClearablePreviewConstants").sigils;c=babelHelpers.inherits(a,j(h));l=c&&c.prototype;function a(a,b){"use strict";l.constructor.call(this),this.$MComposerDialogClearablePreview1=b,this.$MComposerDialogClearablePreview2=a,this.addSubscriptions(g.listen(this.$MComposerDialogClearablePreview2,"click",m.CLEAR,this.$MComposerDialogClearablePreview3.bind(this)))}a.prototype.clear=function(){"use strict";this.hide();g.setContent(this.$MComposerDialogClearablePreview1,"");return this};a.prototype.$MComposerDialogClearablePreview3=function(){"use strict";this.clear();this.emit("clear");i.invoke("m:quicksearch:places:clear",null,null);return this};a.prototype.hide=function(){"use strict";g.hide(this.$MComposerDialogClearablePreview2);return this};a.prototype.setValue=function(a){"use strict";g.setContent(this.$MComposerDialogClearablePreview1,a);this.show();return this};a.prototype.show=function(){"use strict";g.show(this.$MComposerDialogClearablePreview2);return this};a.prototype.showIfHasValue=function(){"use strict";return this.$MComposerDialogClearablePreview1.innerText?this.show():this.hide()};k(a,{clear:!0});e.exports=a}),null);
__d("MComposerOGStrings",["MinutiaeVerbs","OGComposerConstants","fbt"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a={getFBTPhrase:function(a,b,c,d){__p&&__p();d="";switch(a){case g.COMPOSER_FEELS:d=i._("{icon}me siento {object}.",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_WATCHES:d=i._("{icon}estoy viendo {object}.",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_READS:d=i._("{icon}estoy leyendo {object}.",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_LISTENS:d=i._("{icon}escuchando {object}.",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_DRINKS:d=i._("{icon}estoy bebiendo {object}.",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_EATS:d=i._("{icon}estoy comiendo {object}.",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_PLAYS:d=i._("{icon}estoy jugando a {object}.",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_TRAVELS:d=i._("{icon}estoy viajando a {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_LOOKS_FOR:d=i._("{icon}estoy buscando {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_SUPPORTS:d=i._("{icon}colaborando con {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_CELEBRATES:d=i._("{icon}celebrando {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_MEETS:d=i._("{icon}con {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_GETS:d=i._("{icon}comprando {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_MAKES:d=i._("{icon}haciendo {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_GOES_TO:d=i._("{icon}yendo a {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_THINKS_ABOUT:d=i._("{icon}pensando en {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_REMEMBERS:d=i._("{icon}recordando {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_WRITES_A_NOVEL_ABOUT:d=i._("{icon}escribiendo una novela sobre {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_SELECTS_VERB:d=i._("{icon}{verb}",[i._param("icon",b),i._param("verb",c)]);break;case g.COMPOSER_OTHER:d=i._("{icon}{object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_VOTES:d=i._("{icon}votando en {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_ATTENDS:d=i._("{icon}asistiendo a {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_AGREES:d=i._("{icon}est\u00e1 de acuerdo con {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_DISAGREES:d=i._("{icon}no est\u00e1 de acuerdo con {object}",[i._param("icon",b),i._param("object",c)]);break;case h.ExercisesTypeID:d=i._("{icon}{object}",[i._param("icon",b),i._param("object",c)]);break}return d}};e.exports=a}),null);
__d("MOpenGraphTagger",["CSS","DOM","MarauderLogger","MComposerOGStrings","MCompositionShareStore","MLegacyDataStore","MRequest","Stratcom","$","cx","eventsMixinDeprecated","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();function s(a){"use strict";__p&&__p();this.setRoot(a),this._prompt=h.find(a,"span","og-composer-prompt"),this._defaultPrompt=this._prompt.firstChild,this._defaultIconSelector=h.find(a,"div","og-icon-selector"),this._iconSelector=this._defaultIconSelector,this._cancelButton=h.find(a,"button","cancel-og-tagger"),this._defaultCancelButtonText=this._cancelButton.firstChild,this._isFromActivityLink=!1,h.listen(this.getRoot(),"click",null,this._handleClick.bind(this)),this._listeners=[n.listen("click","object_result",function(a){__p&&__p();a.prevent();a=a.getNode("object_result");var b=l.get(a);this._objectID=b.id;this._objectStr=b.name;this._icon=b.icon;this._iconSrc=b.icon_src;this._selectedScore=b.score;this._selectedOriginalID=b.original_id;this._clientTime=b.client_time;this._requestID=b.request_id;this._triggersEventTagExpansion=b.triggers_event_tag_expansion;this._addLoggingDataForNodes(a.parentNode.childNodes);this._showAttachment=k.isEmpty()&&b.show_attachment;this._customIconID=b.custom_icon;this._submit()}.bind(this)),n.listen("click","at_result",function(a){a.prevent(),this._selectActionType(l.get(a.getNode("at_result"))),i.log("og_composer_verb_selected",void 0,{at_id:this._actionType.id,place_id:this._placeID})}.bind(this)),n.listen("click","quicksearch-input",function(a){if(a.getNode("og-object-search")){a={at_id:this._actionType.id,place_id:this._placeID};i.log("og_composer_object_search_clicked",void 0,a)}}.bind(this)),n.listen("keyup","quicksearch-input",function(a){a=a.getNode("quicksearch-input");a&&(this._query=a.value,this._keystrokeCount++,this._lastNotBackspacedQuery.indexOf(this._query)!==0&&(this._lastNotBackspacedQuery=this._query))}.bind(this)),n.listen("composerReset",null,function(a){this._reset(),this._placeID=0}.bind(this))],n.listen("MStructuredComposer:cleanup",null,function(a){for(var a=0;a<this._listeners.length;a++)this._listeners[a].remove();this._listeners=[]}.bind(this)),n.listen("MStructuredComposer-opened",null,function(a){this._compositionID=a.getData().session_id}.bind(this))}s.prototype.getRoot=function(){"use strict";return this.root};s.prototype.setRoot=function(a){"use strict";this.root=a};s.prototype.hide=function(){"use strict";h.hide(this.getRoot()),this.toggleIncludedPlaceSelector(!1)};s.prototype.show=function(){"use strict";h.show(this.getRoot())};s.prototype.updatePrompt=function(a){"use strict";h.setContent(this._prompt,a)};s.prototype.setPlaceID=function(a){"use strict";this._placeID=a};s.prototype.setSuggestionMechanism=function(a){"use strict";this._suggestionMechanism=a};s.prototype.toggleIncludedPlaceSelector=function(a){"use strict";var b=h.scry(this.getRoot(),"div","og_included_place");b.length&&(this._isFromActivityLink=a,a?h.show(b[0]):h.hide(b[0]))};s.prototype._handleClick=function(a){"use strict";a.getNode("cancel-og-tagger")&&this.cancel()};s.prototype._reset=function(){"use strict";__p&&__p();var a=h.scry(this.getRoot(),"div","og-object-search");a.length!==0&&(h.hide(a[0]),this._showActionTypeSelector());this._hideIconSelector();this._actionType=null;this._suggestionMechanism=null;this._typeaheadSessionID=null;this._candidateResults=null;this._query=null;this._selectedScore=null;this._selectedOriginalID=null;this._clientTime=null;this._requestID=null;this._lastNotBackspacedQuery=null;this._keystrokeCount=null;this.updatePrompt(this._defaultPrompt);this.setCancelButtonText(this._defaultCancelButtonText);n.invoke("m:quicksearch:clear")};s.prototype._addLoggingDataForNodes=function(a){"use strict";this._candidateResults=[];this._numResults=a.length;for(var b=0;b<this._numResults;++b){var c=l.get(a[b]);this._objectID==c.id&&(this._selectedPos=b);this._candidateResults[b]=c.id?c.id:0}};s.prototype._cancelTypeaheadSession=function(){"use strict";if(!this._typeaheadSessionID)return;this._triggersEventTagExpansion=!1;this._objectID=null;var a=h.scry(this.getRoot(),"div","object_result");this._addLoggingDataForNodes(a);i.log("og_composer_session_abandoned",void 0,{action_type_id:String(this._actionType.id),place_id:this._placeID,typeahead_session_id:this._typeaheadSessionID,composer_session_id:this._compositionID,request_id:this._requestID,candidate_results:this._candidateResults,num_results:this._numResults,last_not_backspaced_query:this._lastNotBackspacedQuery,keystroke_count:this._keystrokeCount})};s.prototype.cancel=function(){"use strict";i.log("og_composer_cancel_tagger",void 0,{suggestion_mechanism:this._suggestionMechanism});var a=this._isFromActivityLink;this._isFromIconSelector&&this.invoke("cancelIconSelection",{action_type_id:this._actionTypeId,query:this._iconSearchInput?this._iconSearchInput.value:""});this._cancelTypeaheadSession();this._reset();this.hide();this.invoke("cancel");a&&this.invoke("cancelFromActivity")};s.prototype.setCancelButtonText=function(a){"use strict";h.setContent(this._cancelButton,a)};s.prototype._showObjectSearch=function(){"use strict";this._hideActionTypeSelector(),h.show(h.find(this.getRoot(),"div","og-object-search"))};s.prototype.selectActionTypeImplicitly=function(a){"use strict";__p&&__p();var b=h.scry(this.getRoot(),"div","at_result"),c=!1;for(var d=0;d<b.length;d++){var e=l.get(b[d]);if(e.id==a){c=!0;break}}if(!c)return!1;this._selectActionType(e);return!0};s.prototype.showIconSelector=function(a,b,c,d){"use strict";__p&&__p();this.show();this._hideActionTypeSelector();this.updatePrompt(r._("Selecciona un icono"));this._actionTypeId=a;var e="/platform/og/composer/icon_selector/";e=new m(e).setData({actionTypeID:a,objectID:b,objectStr:c,iconID:d});e.listen("postprocess",this._setUpIconSelector.bind(this));e.send();h.replace(this._iconSelector,this._defaultIconSelector);h.show(this._iconSelector);i.log("og_composer_show_icon_selector")};s.prototype._setUpIconSelector=function(){"use strict";this._iconSelector=h.find(this.getRoot(),"div","og-icon-selector");var a=h.scry(this._iconSelector,"a","remove-token");a.length!==0&&h.listen(a[0],"click",null,this._cancelIconSelection.bind(this));this._iconSearchInput=h.scry(this._iconSelector,"input","icon-search-input")[0];h.listen(this._iconSelector,"click","og-icon-area",this._selectIcon.bind(this));h.listen(this._iconSelector,"click","original-og-icon",function(){return this.cancel()}.bind(this));this._isFromIconSelector=!0};s.prototype._cancelIconSelection=function(){"use strict";this._reset(),this.invoke("clear")};s.prototype._selectIcon=function(a){"use strict";__p&&__p();a=a.getNode("og-icon-area");a=a.lastChild.cloneNode();h.show(a);var b=h.find(this.getRoot(),"i","token-icon");n.addSigil(a,"token-icon");h.replace(b,a);this._icon=a;this._iconSrc=l.get(a).icon_src;this._customIconID=this._icon.getAttribute("data-icon");b=this._iconSearchInput?this._iconSearchInput.value:"";a=this._actionTypeId;this._reset();this.invoke("iconChanged",{icon:this._icon,icon_src:this._iconSrc,custom_icon_id:this._customIconID,action_type_id:a,query:b})};s.prototype._selectActionType=function(a){"use strict";this._typeaheadSessionID=String(Math.floor(Date.now()*Math.random()));this._lastNotBackspacedQuery="";this._keystrokeCount=0;this._actionType=a;a={at_id:this._actionType.id,place_id:this._placeID,sid:this._typeaheadSessionID};n.invoke("m:quicksearch:actionSelected",null,a);this._showObjectSearch();this.updatePrompt(this._actionType.prompt)};s.prototype._hideActionTypeSelector=function(){"use strict";var a=h.scry(this.getRoot(),"div","og_ats");a.length!==0&&g.conditionClass(a[0],"_51xt",!0)};s.prototype._showActionTypeSelector=function(){"use strict";var a=h.scry(this.getRoot(),"div","og_ats");a.length!==0&&g.conditionClass(a[0],"_51xt",!1)};s.prototype._hideIconSelector=function(a){"use strict";this._isFromIconSelector=!1,this._actionTypeId=null,h.hide(this._iconSelector),this._showActionTypeSelector()};s.prototype._submit=function(){"use strict";var a={action_type:this._actionType.id,action_type_str:this._actionType.name,object:this._objectID,object_str:this._objectStr,show_attachment:this._showAttachment,icon:this._icon,icon_src:this._iconSrc,fbt_phrase:this._getTagPhrase(this._actionType.id,this._icon,this._objectStr,this._objectID),triggers_event_tag_expansion:this._triggersEventTagExpansion,suggestion_mechanism:this._suggestionMechanism,custom_icon:this._customIconID,typeahead_session_id:this._typeaheadSessionID,composer_session_id:this._compositionID,selected_original_id:this._selectedOriginalID,selected_score:this._selectedScore,place_id:this._placeID,client_time:this._clientTime,request_id:this._requestID,display_position:this._selectedPos,num_results:this._numResults,results:this._candidateResults,search_term:this._query,last_not_backspaced_query:this._lastNotBackspacedQuery,keystroke_count:this._keystrokeCount};this._reset();this.invoke("submit",a);delete a.icon;delete a.fbt_phrase;i.log("og_composer_object_selected",void 0,a)};s.prototype._getTagPhrase=function(a,b,c,d){"use strict";return j.getFBTPhrase(a,b,c,d)};s.fromID=function(a){"use strict";a=o(a);var b=l.get(a);b._ogTagger||(b._ogTagger=new s(a));return b._ogTagger};q(s,["submit","cancel","clear","iconChanged","cancelFromActivity","cancelIconSelection"]);Object.assign(s.prototype,{root:null,_prompt:null,_defaultPrompt:null,_actionType:null,_objectID:null,_objectStr:null,_triggersEventTagExpansion:null,_icon:null,_iconSelector:null,_defaultIconSelector:null,_showAttachment:null,_customIconID:null,_placeID:0,_listeners:null,_suggestionMechanism:null,_typeaheadSessionID:null,_compositionID:null,_selectedOriginalID:null,_selectedScore:null,_clientTime:null,_requestID:null,_selectedPos:null,_numResults:null,_candidateResults:null,_query:null,_lastNotBackspacedQuery:null,_keystrokeCount:null});e.exports=s}),null);
__d("MPlacesCurrentLocation",["MPlaces"],(function(a,b,c,d,e,f,g){a=function(a){g.setCurrentJSONLocation(a.location),g.setLocationSearchMode(a.mode),a.mode==g.locationSearchModes.MODE_CHECKIN&&g.monitorLocation()};f.main=a}),null);
__d("MPlacesInit",["MPlaces","Stratcom"],(function(a,b,c,d,e,f,g,h){typeof window.usingGears!=="undefined"&&(g.locationOptions.enableHighAccuracy=!1),h.listen("click",g.LINK_SIGIL,g.onClick),h.listen("submit",g.FORM_SIGIL,g.onSubmit)}),null);
__d("MQuickSearchLogger",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=!1,this.$2=!1,this.$3=null}a.prototype.$4=function(){"use strict";this.$1=!0,this.$2=!1,this.$5=Math.random()};a.prototype.$6=function(){"use strict";this.$1=!1};a.prototype.logSessionStart=function(a){"use strict"};a.prototype.logResults=function(a,b){"use strict"};a.prototype.logClick=function(a){"use strict"};a.prototype.onSearch=function(a){"use strict";this.$1||(this.$4(),this.logSessionStart(a)),this.$3=a};a.prototype.onResults=function(a,b){"use strict";this.logResults(a,b)};a.prototype.onCleanup=function(){"use strict";this.$6()};a.prototype.onClick=function(a){"use strict";this.$2||(this.logClick(a),this.$2=!0,this.$6())};a.prototype.getSID=function(){"use strict";return this.$5};a.prototype.getLastRequest=function(){"use strict";return this.$3};e.exports=a}),null);
__d("MQuickSearchLoggerPlaces",["MarauderLogger","MLegacyDataStore","MQuickSearchLogger"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;j=babelHelpers.inherits(a,i);j&&j.prototype;a.prototype.logSessionStart=function(a){"use strict";g.log("m_checkin_search_session_start",void 0,{sid:this.getSID()})};a.prototype.logResults=function(a,b){"use strict";g.log("m_checkin_search_results",void 0,{sid:this.getSID(),search_experiment:h.get(b).searchExperiment})};a.prototype.logClick=function(a){"use strict";__p&&__p();var b=!1,c=-1;if(a){var d=h.get(a.selected_result);d!==null&&(b=d.isEventResult);var e=[];a.results!==null&&a.results.children!==null&&(e=a.results.children);for(var a=0;a<e.length;a++){var f=h.get(e[a]);if(d.id===f.id){c=a;break}}}f=-1;if(this.getLastRequest()!==null){a=this.getLastRequest();Object.prototype.hasOwnProperty.call(a,"q")&&Object.prototype.hasOwnProperty.call(a.q,"length")&&(f=this.getLastRequest().q.length)}g.log("m_checkin_search_click",void 0,{sid:this.getSID(),query_length:f,position:c,is_event:b})};function a(){"use strict";j.apply(this,arguments)}e.exports=a}),null);
__d("MQuickSearchPlaces",["MPlaces","MQuickSearch","MQuickSearchLoggerPlaces","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();function a(a){"use strict";__p&&__p();var b,c,d=new i(),e=new h(a,d),f=null,k=e.listen("search",function(a){__p&&__p();var d=f||g.getCurrentJSONLocation();if(d==b&&a==c){j.context().prevent();return}b=g.getCurrentJSONLocation();c=a;a={json_location:b};a[g.locationSearchModes.SEARCH_MODE]=g.getLocationSearchMode();e.maybeAddQueryParameters(a);j.invoke("m:quicksearch:location:change",null,d)}),l=j.listen("m:quicksearch:places:search-with-location",null,function(a){f=a,e.search()}),m=j.listen("m:quicksearch:places:search",null,function(){e.search()}),n=j.listen("m:quicksearch:places:cancel",null,function(){return e.reset()}),o=j.listen("m:quicksearch:places:click",null,function(a){d.onClick(a.getData())});j.listen("m:page:loading",null,function(){j.removeCurrentListener(),k.remove(),m.remove(),l.remove(),n.remove(),o.remove(),k=m=b=c=e=null})}e.exports=a}),null);
__d("MPlatformDialogTagger",["DOM","Stratcom","SubscriptionsHandler","$","mapObject","mixInEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();a.prototype.init=function(a,b,c){"use strict";this.$1=!1,this.$2=new i(),this.$3=null,this.$4=a,this.$5=b,h.addSigil(this.$4.getRoot(),c),this.$2.addSubscriptions(h.listen("click",c,this.$6.bind(this)),this.$5.listen("cancel",this.$7.bind(this)),this.$5.listen("submit",this.$7.bind(this)),h.listen("m:history:change",null,function(a){if(!this.$1)return;this.$7();a.prevent()}.bind(this)),h.listen("m:page:unload",null,this.$8.bind(this)))};a.prototype.createInputs=function(a,b,c){"use strict";__p&&__p();c=c||"";this.reset();var d={};b?b.forEach(function(b){a[b]&&(d[b]=a[b])}):d=a;if(Object.keys(d).length===0){this.$3&&g.remove(this.$3);this.$4.setSelected(!1);return}this.$3=g.create("div");k(d,function(a,b){g.appendContent(this.$3,g.create("input",{type:"hidden",name:c+b,value:a}))}.bind(this));g.appendContent(this.$4.getRoot(),this.$3);Object.keys(d).some(function(a){return Array.isArray(d[a])?d[a].length>0:d[a]})&&this.$4.setSelected(!0)};a.prototype.reset=function(){"use strict";this.$3&&g.remove(this.$3),this.$3=null,this.$4.setSelected(!1)};a.prototype.destroy=function(){"use strict";this.$8()};a.prototype.$6=function(a){"use strict";if(a.getNode("remove"))return;this.$1=!0;g.hide(j("viewport"));this.$5.show()};a.prototype.$7=function(){"use strict";this.$1=!1,g.show(j("viewport")),this.$5.hide()};a.prototype.$8=function(){"use strict";this.clearInputs(),this.$2.release(),this.$2=null,this.$5&&this.$5.getRoot()&&g.remove(this.$5.getRoot())};function a(){"use strict"}l(a,{cleared:!0,populated:!0});e.exports=a;e.exports.EVENT_CLEARED="cleared";e.exports.EVENT_POPULATED="populated"}),null);
__d("MPlatformDialogPeopleTagger",["DOM","MFriendsTaggerReact","MPlatformDialogTagger","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m="fb:og:people:",n=m+"tagger";b=babelHelpers.inherits(a,i);l=b&&b.prototype;function a(a,b,c){"use strict";l.constructor.call(this);this.$MPlatformDialogPeopleTagger1=new k();this.$MPlatformDialogPeopleTagger2=new h(b);this.$MPlatformDialogPeopleTagger3=a;this.init(this.$MPlatformDialogPeopleTagger3,this.$MPlatformDialogPeopleTagger2,n);this.$MPlatformDialogPeopleTagger1.addSubscriptions(this.$MPlatformDialogPeopleTagger2.listen("submit",this.$MPlatformDialogPeopleTagger4.bind(this)),j.listen("click",n,this.$MPlatformDialogPeopleTagger5.bind(this)),j.listen("m:page:unload",null,this.$MPlatformDialogPeopleTagger6.bind(this)));b=c&&c.length?{friend_ids:c}:{};this.createInputs(b,null,m)}a.prototype.$MPlatformDialogPeopleTagger4=function(a){"use strict";!this.$MPlatformDialogPeopleTagger2.hasTokens()?j.invoke(i.EVENT_CLEARED,n):j.invoke(i.EVENT_POPULATED,n,a.tokens),this.$MPlatformDialogPeopleTagger7()};a.prototype.$MPlatformDialogPeopleTagger5=function(a){"use strict";a.getNode("remove")&&(this.$MPlatformDialogPeopleTagger2.removeToken(a.getNode("token")),this.$MPlatformDialogPeopleTagger7())};a.prototype.$MPlatformDialogPeopleTagger7=function(){"use strict";var a={};this.$MPlatformDialogPeopleTagger2.hasTokens()?a={friend_ids:Object.keys(this.$MPlatformDialogPeopleTagger2.getTokens())}:this.$MPlatformDialogPeopleTagger3.setSelected(!1);this.createInputs(a,null,m)};a.prototype.$MPlatformDialogPeopleTagger6=function(){"use strict";this.$MPlatformDialogPeopleTagger1.release(),this.$MPlatformDialogPeopleTagger1=null,this.$MPlatformDialogPeopleTagger2&&this.$MPlatformDialogPeopleTagger2.getRoot()&&g.remove(this.$MPlatformDialogPeopleTagger2.getRoot())};a.SIGIL=n;e.exports=a}),null);
__d("MPrivacyComposerMenu",["CSS","DOM","MComposerLogger","MComposerWaterfallEvent","MCompositionConfigFields","MCompositionConfigStore","MCompositionPrivacyFields","MCompositionPrivacyStore","MCompositionUserActions","MLegacyDataStore","MModalDialog","MRequest","MViewport","PrivacyConst","Stratcom","SubscriptionsHandler","XPrivacyCustomEditController","$","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){__p&&__p();function A(a,b,c,d){"use strict";__p&&__p();this._root=x(a),this._hiddenInput=h.find(this._root,"input"),this._selectedOption=h.scry(this._root,"tr","checked")[0],this._stickyURI=b,this._stickyOption=this._selectedOption,this._enableCustomMenu=d,this._dontSaveSticky=!1,this._customLabel=c,this._listeners=new v(),this._listeners.addSubscriptions(n.addChangeListener(function(){return this._handlePrivacyUpdate()}.bind(this))),this._listeners.addSubscriptions(h.listen(this._root,"click","privacy-option",function(a){__p&&__p();a=a.getNode("privacy-option");if(!this._enableCustomMenu||a!=this.getCustomOption()){this._selectOption(a);return}var b=u.listen("m:viewport:orientation-change",null,this._addHeightConstraint.bind(this));this._addHeightConstraint();a=n.get(m.PRIVACY_FBID,null);var c=l.get(k.POST_ID,null);a=w.getURIBuilder().setString("privacy_id",a).setString("post_id",c).getURI();q.open(a.toString(),function(a){__p&&__p();u.invoke("MPrivacyComposerMenu::custom",null,{visible:!1,instance:this,selector:this._root});s.scrollToHeader();b.remove();this._removeHeightConstraint();if(!a.canceled){var c=a.payload.payload.value,d=h.scry(this._root,"tr","privacy-option"),e=!1;for(var f=0;f<d.length;f++)if(p.get(d[f]).value==c){this._selectOption(d[f],!0);e=!0;break}if(!e){this._updateCustomSelectedOption(a.payload.payload.description,c);f=this._getCustomSelectedOption();f&&this._selectOption(f,!0)}}}.bind(this));u.invoke("MPrivacyComposerMenu::custom",null,{visible:!0,instance:this,selector:this._root})}.bind(this))),this._listeners.addSubscriptions(u.listen("MStructuredComposer:reset",null,function(a){this._stickyCustomValue&&this._stickyCustomLabel&&this._updateCustomSelectedOption(this._stickyCustomLabel,this._stickyCustomValue)}.bind(this))),this._listeners.addSubscriptions(u.listen("MPrivacyDeferredSelector-loaded",null,function(a){a=a.getData();var b=h.find(this._root,"table","privacy-table");b.id==a.id&&(this._selectedOption=h.scry(this._root,"tr","checked")[0]);this._handlePrivacyUpdate()}.bind(this))),this._listeners.addSubscriptions(u.listen("MPrivacyComposerMenu:updatePrivacy",null,function(a){a=a.getData();this._selectOption(a.row,!1,a.log)}.bind(this))),p.set(this._root,{instance:this})}A.prototype.setShowTagExpansion=function(a){"use strict";var b=this._root;b&&(g.conditionClass(b,"_1oxi",a),g.conditionClass(b,"_3kaj",a))};A.prototype.getCustomOption=function(){"use strict";return h.find(this._root,"tr","privacy-custom-option")};A.prototype._getCustomSelectedOption=function(){"use strict";return h.scry(this._root,"tr","privacy-custom-selected-option")[0]};A.prototype.getSelectedValue=function(){"use strict";return p.get(this._selectedOption).value};A.prototype._getCustomLabel=function(){"use strict";var a=this._getCustomSelectedOption();if(!a)return null;a=h.scry(a,"span","option-desc")[0];return a?a.textContent:null};A.prototype._getCustomValue=function(){"use strict";var a=this._getCustomSelectedOption();return!a?null:p.get(a).value};A.prototype._selectOption=function(a,b,c){"use strict";__p&&__p();c=c!==void 0?c:!0;var d=n.get(m.NEVER_SAVE_STICKY,!1);a=p.get(a).value;var e=this._getCustomLabel(),f=this._getCustomValue(),g={};g[m.PRIVACY_FBID]=a;g[m.ALREADY_SAVED_STICKY]=b;g[m.NEVER_SAVE_STICKY]=d;g[m.CLOSE_DIALOG]=!0;g[m.CUSTOM_LABEL]=e;g[m.CUSTOM_OPTION]=f;o.privacyUpdate(g);c&&i.log(j.PRIVACY_ADD,{privacy_setting:a})};A.prototype._updateCustomSelectedOption=function(a,b){"use strict";var c=h.find(this._getCustomSelectedOption(),"span","option-desc");h.setContent(c,a);p.set(this._getCustomSelectedOption(),{value:b});if(b){h.show(this._getCustomSelectedOption());c=h.find(this._getCustomSelectedOption(),"span","plus-label");h.setContent(c,this._getTagExpansionLabel(b))}};A.prototype._getTagExpansionLabel=function(a){"use strict";try{var b;a=JSON.parse(a);b=(((b=a)!=null?b.allow:b)||[]).indexOf(t.CustomPrivacyTokens.FRIENDS)>=0;a=((a=a)!=null?(a=a.settings)!=null?a.no_tag_expansion:a:a)||0;return b&&a===0?z._("(+ los amigos de las personas etiquetadas)"):z._("(+ las personas etiquetadas)")}catch(a){}return null};A.prototype._addHeightConstraint=function(){"use strict";this._removeHeightConstraint();var a=s.getUseableHeight();this._heightConstraint=s.addHeightConstraint(a)};A.prototype._removeHeightConstraint=function(){"use strict";this._heightConstraint&&(this._heightConstraint.release(),this._heightConstraint=null)};A.prototype._handlePrivacyUpdate=function(){"use strict";__p&&__p();!this._stickyCustomValue&&this._getCustomSelectedOption()&&(this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel());var a=n.get(m.PRIVACY_FBID,null),b=n.get(m.ALREADY_SAVED_STICKY,!1),c=n.get(m.NEVER_SAVE_STICKY,!1),d=n.get(m.CLOSE_DIALOG,!1),e=n.get(m.CUSTOM_LABEL),f=n.get(m.CUSTOM_OPTION);b!==void 0&&(this._dontSaveSticky=b);b=h.scry(this._root,"tr","privacy-option");a===null&&(a=p.get(this._stickyOption).value);var i=this._hiddenInput&&this._hiddenInput.value;d=d||i!=a;i=h.scry(document.body,"button","privacy-button")[0];if(a!==null&&d){d=null;for(var j=0;j<b.length;j++)p.get(b[j]).value==a&&(d=b[j]);this._getCustomSelectedOption()&&f!==null&&e!==null&&this._updateCustomSelectedOption(e,f);d||(d=this._getCustomSelectedOption());if(!d){i&&g.conditionShow(i,!1);return}this._hiddenInput&&(this._hiddenInput.value=a);this._selectedOption&&g.conditionClass(this._selectedOption,"checked",!1);this._selectedOption=d;g.conditionClass(d,"checked",!0);j=!!h.scry(d,"span","plus-label").length;b=h.scry(d,"i","small-icon");b.length==0?b=h.find(d,"i","icon"):b=b[0];e=b.outerHTML;f=h.find(d,"span","option-desc");a=this._hiddenInput&&this._hiddenInput.value;u.invoke("MPrivacyComposerMenu::change",null,{value:a,showPlus:j,iconHTML:e,optionLabel:f,instance:this});c||(this._stickyOption=this._selectedOption,this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel(),!this._dontSaveSticky&&this._stickyURI&&new r(this._stickyURI).setData({privacyx:a}).send())}b=l.get(k.DISABLE_PRIVACY,!1);i&&!b&&g.conditionShow(i,!0)};A.init=function(a,b,c,d){"use strict";return new A(a,b,c,d)};A.getInstance=function(a){"use strict";return p.get(a).instance};e.exports=A}),null);
__d("MPrivacyComposerSelector",["Banzai","BanzaiLogger","CSS","DOM","HTML","MComposerLogger","MComposerWaterfallEvent","MLegacyDataStore","MPlatformDialogPeopleTagger","MPlatformDialogTagger","MPrivacyComposerMenu","MViewport","Stratcom","Vector","$","cx","ge","isEmpty"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();function y(a,b){"use strict";__p&&__p();this._root=u(a);this._button=j.scry(this._root,"button","privacy-button")[0];this._button||(this._button=j.find(this._root,"div","privacy-button"));this._buttonIcon=j.find(this._root,"div","privacy-button-icon");this._menu=j.find(this._root,"div","privacy-composer-menu");this._config=b;j.listen(this._root,"click","privacy-button",function(a){this.isOpen()?(this.hideMenu(),l.log(m.PRIVACY_CANCEL)):(this.showMenu(),h.log("MPrivacySelectorConsistencyLoggerConfig",{event:"render",logging_source:"mobile_composer_timeline"}),l.log(m.PRIVACY_INTENT)),document&&document.activeElement&&document.activeElement.blur()}.bind(this));s.listen("MPrivacyComposerMenu::change",null,function(a){__p&&__p();a=a.getData();if(a.instance!=q.getInstance(this._menu))return;!Object.prototype.hasOwnProperty.call(a,"optionLabel")||!Object.prototype.hasOwnProperty.call(a,"showPlus")||!Object.prototype.hasOwnProperty.call(a,"iconHTML");if(this._config.updatebuttontext){var b=j.find(this._button,"span","button-text");j.setContent(b,a.optionLabel.cloneNode(!0))}b=j.find(this._button,"span","plus-label");a.showPlus?j.show(b):j.hide(b);a.iconHTML&&j.setContent(this._buttonIcon,new k(a.iconHTML));this.hideMenu()}.bind(this));var c=s.listen(p.EVENT_POPULATED,o.SIGIL,function(a){return this._updateTagExpansion(a)}.bind(this)),d=s.listen(p.EVENT_CLEARED,o.SIGIL,function(a){return this._updateTagExpansion(a)}.bind(this));s.listen("m:page:unload",null,function(){c.remove(),d.remove(),s.removeCurrentListener()});n.set(this._root,{instance:this})}y.prototype._updateTagExpansion=function(a){"use strict";a=a&&!x(a.getData());this.setShowTagExpansion(!!a)};y.prototype.setShowTagExpansion=function(a){"use strict";this._root&&i.conditionClass(this._root,"_27-k",a);var b=q.getInstance(this._menu);b&&b.setShowTagExpansion(a)};y.prototype.getSelectedValue=function(){"use strict";var a=q.getInstance(this._menu);if(a)return a.getSelectedValue();else{a=w(y.getSavedCustomInputName(),this._root);return a&&a.value}};y.prototype.showMenu=function(){"use strict";j.show(this._menu),s.invoke("MPrivacyComposerMenu::show",null,{selector:this._root}),this._heightConstraint=r.addMinHeightConstraint(t.getDim(this._menu).y+t.getPos(this._menu).y),g.post("privacy_selector_interaction",{event:"open_selector"})};y.prototype.hideMenu=function(){"use strict";this.isOpen()&&(j.hide(this._menu),s.invoke("MPrivacyComposerMenu::hide",null,{selector:this._root}),this._heightConstraint&&this._heightConstraint.release(),g.post("privacy_selector_interaction",{event:"close_selector"}))};y.prototype.isOpen=function(){"use strict";var a=this._menu&&this._menu.style;return a!=null&&a.display!="none"};y.init=function(a,b){"use strict";return new y(a,b)};y.getInstance=function(a){"use strict";return n.get(a).instance};y.getSavedCustomInputName=function(){"use strict";return"m_composer_privacy_selector_input"};e.exports=y}),null);