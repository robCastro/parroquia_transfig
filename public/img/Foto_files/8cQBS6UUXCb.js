if (self.CavalryLogger) { CavalryLogger.start_js(["rY8pP"]); }

__d("MChat",["Bootloader","ChannelEventType","DOM","MChannelManager","MTouchChannelManager","Stratcom","$"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();a=function(a){__p&&__p();k.initialize(),a.killDynatemplate?l.listen([h.MESSAGE,h.PAGES_MESSAGE],null,function(b){n(a,b),l.removeCurrentListener()}):g.loadModules(["MMessages"],function(b){b=new b(a);var c=[l.listen([h.MESSAGE,h.PAGES_MESSAGE],null,b.handleMessageReceived.bind(b)),l.listen("typ",null,b.handleUserTyping.bind(b))];l.listen("m:page:unload",null,function(){b=null;for(var a=0;a<c.length;a++)c[a].remove();c=[];l.removeCurrentListener()})},"MChat"),a.pageID&&j.subscribeIrisQueue(a.pageID.toString(),"0")};function n(a,b){g.loadModules(["MReactComponentRenderer","MMessageThread.react"],function(c,d){var e=i.create("div"),f={downloadLink:a.downloadLink,initialEvent:b,isCanonical:a.isCanonicalThread,otherUserFBID:a.messageOtherUserFBID,pageID:a.pageID,shouldParseEmoticons:a.parseEmoticons,threadFBID:a.messageThreadFBID,userProfileUris:a.usersProfileUri,userShortNames:a.usersShortNames};c(d,e,f);i.appendContent(m("messageGroup"),e)},"MChat")}f.main=a}),null);
__d("MPresenceIcon",["DOM","MLegacyDataStore","MRequest","MURI","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=0,n=1,o=2,p;function q(){__p&&__p();var a=g.scry(document.body,"i","presence-icon"),b=[];for(var c=0,d=a.length;c<d;++c){var e=h.get(a[c]);e.userid&&!b[e.userid]&&(b[e.userid]=1)}e=new j("/chat/presence_icon.php").toString();c=new i(e).setData({ids:Object.keys(b)}).setIgnoreErrors(!0);c.listen("done",function(d){for(var b=0,c=a.length;b<c;++b){var e=h.get(a[b]);e&&e.userid&&k.hasSigil(a[b],"online-icon")&&d[e.userid]==n||k.hasSigil(a[b],"mobile-icon")&&d[e.userid]==o?g.show(a[b]):g.hide(a[b])}});c.listen("finally",function(a){clearTimeout(p),p=l(q,m)});c.send()}m=m?m*100:6e4;q()}),null);
__d("XMessagingMarkReadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/mark_read/",{})}),null);
__d("MMessagesJewelPrefetch",["MLogState","MPageFetcher","MRequest","MURI","XMessagingMarkReadController","qex"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=null,n=[],o=[],p=null;function q(a){if(!l._("786276"))return;var b=new j(a.href).addQueryData("refid",g.getRefid()).addQueryData("pos",g.CLICK_POSITION_MESSAGES_FLYOUT);h.prefetch(b.toString(),{expiration:Date.now()+1e3*30,requestHeaders:{"x-notifications-prefetch":""},onUsed:function(){var b=k.getURIBuilder().getURI();new i(b).setData((b={},b["ids["+a.thread_id+"]"]=!0,b)).send()}})}var r={init:function(a){m=a,n.forEach(r.prefetch),n=[]},prefetch:function(a){if(!m){n.push(a);return}var b=m.getFlyout();if(!b)return;b.isOpen()?q(a):(o.length===0&&o.push(a),p||(p=b.addOpenListener(function(){o.forEach(q),o=[],p&&p.remove(),p=null})))}};e.exports=r}),null);
__d("MJewelThreads",["Bootloader","ChannelEventType","MessagingEvent","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=[],this.$3=!1,this.$4=!1,j.listen(h.MESSAGE,null,this.onMessageEvent.bind(this))}a.prototype.getThreads=function(){return this.$2};a.prototype.registerListeners=function(){j.listen("click","live-threads",this.onThreadClick.bind(this)),j.listen("m:jewel:flyout:open",null,this.onJewelOpen.bind(this))};a.prototype.onJewelOpen=function(a){a=a.getData();a=a&&a.jewel&&a.jewel==="messages";a&&this.$4&&this.updateUI()};a.prototype.onThreadClick=function(a){a=a.getNode("live-thread");if(!a)return;this.setThreadReadStatus(a.getAttribute("data-fbid"),a.getAttribute("data-canonical")==="true",!0);this.updateUI()};a.prototype.onMessageEvent=function(a){__p&&__p();var b=a.getData();if(b.parsedPayload){a=b.parsedPayload;if(a.getFolder()!=="inbox")return;this.$3||(this.$3=!0,this.registerListeners());this.addThread(a)}else if(Object.prototype.hasOwnProperty.call(b,"mark_as_read"))b.other_user_fbids.forEach(function(a){this.setThreadReadStatus(a.toString(),!0,b.mark_as_read)}.bind(this)),b.thread_fbids.forEach(function(a){this.setThreadReadStatus(a.toString(),!1,b.mark_as_read)}.bind(this)),this.updateUI();else if(b.event===i.READ&&b.is_sync){a=!!b.message.other_user_fbid;var c=a?b.message.other_user_fbid:b.message.thread_fbid;this.setThreadReadStatus(c,a,!0);this.updateUI()}};a.prototype.addThread=function(a){this.$2=this.$2.filter(function(b){b=b.isCanonicalThread()?b.getOtherUserFBID():b.getThreadFBID();return!this.isSameThread(b,a.isCanonicalThread(),a)}.bind(this)),a.unread=a.isUnread(),this.$2.push(a),this.$4=!0,this.updateThreadImage(a)};a.prototype.updateThreadImage=function(a){g.loadModules(["MMessagesThreadMetadataCache","MShortProfiles"],function(b,c){if(a.hasThreadImage())b.get(a.getThreadFBID(),function(b){a.image_src=b.image_src,this.updateUI()}.bind(this));else{b=a.isCanonicalThread()?a.getOtherUserFBID():a.getAuthorFBID();c.get(b,function(b){a.image_src=b.mThumbSrcSmall,this.updateUI()}.bind(this))}}.bind(this),"MJewelThreads")};a.prototype.setThreadReadStatus=function(a,b,c){this.$2.forEach(function(d){this.isSameThread(a,b,d)&&(d.unread==c&&(this.$4=!0),d.unread=!c)}.bind(this))};a.prototype.isSameThread=function(a,b,c){b=b?c.getOtherUserFBID():c.getThreadFBID();return a==b};a.prototype.updateUI=function(){if(!this.$3||!this.$4)return;g.loadModules(["React","ReactDOM","MJewelThreadList.react","Popover"],function(a,b,c,d){if(!d.getInstance("messages_flyout").isOpen())return;var e={threads:this.$2};b.render(a.createElement(c,e),this.$1);d.getInstance("messages_flyout").refreshConstraints();this.$4=!1}.bind(this),"MJewelThreads")};e.exports=a}),null);
__d("WorkGoalTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){h.log("logger:WorkGoalLoggerConfig",this.$1,g.BASIC)};a.prototype.logVital=function(){h.log("logger:WorkGoalLoggerConfig",this.$1,g.VITAL)};a.prototype.logImmediately=function(){h.log("logger:WorkGoalLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEnabled=function(a){this.$1.enabled=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setGoal=function(a){this.$1.goal=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};a.prototype.updateExtraData=function(a){a=i(h.serializeMap(a));h.checkExtraDataFieldNames(a,j);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var j={enabled:!0,event:!0,goal:!0,surface:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("CallbackManagerController",["ErrorUtils"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$1=[],this.$2=[void 0],this.$3=a}a.prototype.executeOrEnqueue=function(a,b,c){"use strict";c=c||{};var d=this.$4(b,a,c);if(d)return 0;this.$2.push({fn:b,request:a,options:c});d=this.$2.length-1;this.$1.push(d);return d};a.prototype.unsubscribe=function(a){"use strict";delete this.$2[a]};a.prototype.reset=function(){"use strict";this.$2=[]};a.prototype.getRequest=function(a){"use strict";return this.$2[a]};a.prototype.runPossibleCallbacks=function(a){"use strict";__p&&__p();var b=this.$1;this.$1=[];var c=[];b.forEach(function(b){var d=this.$2[b];if(!d)return;d=this.$3(d.request,babelHelpers["extends"]({},d.options,a));d?c.push({args:d,id:b}):this.$1.push(b)}.bind(this));c.forEach(function(a){var b=a.args;a=a.id;var c=this.$2[a];if(!c)return;delete this.$2[a];this.$5(c.fn,b,c.request)}.bind(this))};a.prototype.$4=function(a,b,c){"use strict";c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};a.prototype.$5=function(a,b,c){"use strict";c={ids:c};g.applyWithGuard(a,c,b)};e.exports=a}),null);
__d("KeyedCallbackManager",["CallbackManagerController","ErrorUtils"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(){"use strict";this.$1={},this.$2=new g(this.$3.bind(this))}a.prototype.executeOrEnqueue=function(a,b){"use strict";__p&&__p();if(!(a instanceof Array)){var c=a,d=b;a=[a];b=function(a){d(a[c])}}a=a.filter(function(a){var b=a!==null&&a!==void 0;b||h.applyWithGuard(function(){throw new Error("KeyedCallbackManager.executeOrEnqueue: key "+JSON.stringify(a)+" is invalid")});return b});return this.$2.executeOrEnqueue(a,b)};a.prototype.unsubscribe=function(a){"use strict";this.$2.unsubscribe(a)};a.prototype.reset=function(){"use strict";this.$2.reset(),this.$1={}};a.prototype.getUnavailableResources=function(a){"use strict";a=this.$2.getRequest(a);var b=[];a&&(b=a.request.filter(function(a){return!this.$1[a]}.bind(this)));return b};a.prototype.getUnavailableResourcesFromRequest=function(a){"use strict";a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!this.$1[a]},this)};a.prototype.addResourcesAndExecute=function(a){"use strict";Object.assign(this.$1,a),this.$2.runPossibleCallbacks()};a.prototype.setResource=function(a,b){"use strict";this.$1[a]=b,this.$2.runPossibleCallbacks()};a.prototype.getResource=function(a){"use strict";return this.$1[a]};a.prototype.getAllResources=function(){"use strict";return this.$1};a.prototype.dumpResources=function(){"use strict";var a={};for(var b in this.$1){var c=this.$1[b];typeof c==="object"&&(c=babelHelpers["extends"]({},c));a[b]=c}return a};a.prototype.$3=function(a){"use strict";var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$1[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};e.exports=a}),null);
__d("MMessageServerResourceFetcher",["KeyedCallbackManager","MRequest"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a,b){this.$3=a,this.$4=b,this.$1=new g(),this.$2={}}a.prototype.get=function(a,b){this.getMulti([a],function(c){b(c[a])})};a.prototype.getMulti=function(a,b){__p&&__p();b=!this.$1.executeOrEnqueue(a,b);if(b)return;var c=a.filter(function(a){var b=!this.$1.getResource(a)&&!this.$2[a];b&&(this.$2[a]=!0);return b}.bind(this));if(c.length===0)return;b=new h(this.$3(c)).setMethod("POST");b.listen("done",function(a){if(!a||!a.payload)return;a=this.$4(a.payload);a&&this.$1.addResourcesAndExecute(a)}.bind(this));b.listen("finally",function(a){c.forEach(function(){delete this.$2[a]}.bind(this))}.bind(this));b.send()};a.prototype.set=function(a,b){var c={};c[a]=b;this.$1.addResourcesAndExecute(c)};e.exports=a}),null);
__d("MMessagesReadReceipts",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=void 0,h={};function a(a,b){g=a,h=b}function b(a,b){if(a!==g)return;for(var c in b){if(!Object.prototype.hasOwnProperty.call(b,c))continue;a=b[c].action;var d=h[c].action;d===void 0?h[c]=b[c]:h[c]=Math.max(d,a)===d?h[c]:b[c]}}function c(a,b,c){__p&&__p();if(a!==g)return{};a={};for(var d in h){if(!Object.prototype.hasOwnProperty.call(h,d))continue;else if(c.indexOf(d)!==-1)continue;else if(h[d].action<b)continue;a[d]=h[d].action}return a}e.exports={init:a,update:b,getSeenBy:c}}),null);
__d("XChatUserInfoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/user_info/",{ids:{type:"IntVector",defaultValue:[]}})}),null);
__d("MShortProfiles",["MMessageServerResourceFetcher","XChatUserInfoAsyncController"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new g(function(a){return h.getURIBuilder().setIntVector("ids",a.map(Number)).getURI().toString()},function(a){return a.profiles});a={get:function(a,b){i.get(a,b)},getMulti:function(a,b){i.getMulti(a,b)},set:function(a,b){i.set(a,b)}};e.exports=a}),null);
__d("MessagingSourceEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHAT_ORCA:"source:chat:orca",CHAT_LIGHT_SPEED:"source:chat:light_speed",CHAT_IPHONE:"source:chat:iphone",CHAT_JABBER:"source:chat:jabber",CHAT_MEEBO:"source:chat:meebo",CHAT_WEB:"source:chat:web",CHAT_TEST:"source:chat:test",CHAT_FORWARD_DIALOG:"source:chat:forward",CHAT:"source:chat",CONTACT_ADD_MUTATION:"source:contact_add:graphql_mutation",CONTACT_ADD_CYMK:"source:contact_add:cymk_suggestion",CUSTOMER_CHAT_PLUGIN:"source:discovery:customer_chat_plugin",EMAIL:"source:email",EVENT_MESSAGE_BLAST:"source:event_message_blast",EVENT_TICKETING:"source:event_ticket",EVENT_REMINDERS:"source:event_reminders",FUNDRAISER_MESSAGE_BLAST:"source:fundraiser_message_blast",GENERIC_ADMIN_TEXT:"source:generic_admin_text",GIGABOXX_API:"source:gigaboxx:api",GIGABOXX_BLAST:"source:gigaboxx:blast",GIGABOXX_EMAIL_REPLY:"source:gigaboxx:emailreply",GIGABOXX_MOBILE:"source:gigaboxx:mobile",GIGABOXX_WAP:"source:gigaboxx:wap",GIGABOXX_WEB:"source:gigaboxx:web",INVITE:"source:invite",LEIA:"source:leia",MESSENGER_WEB:"source:messenger:web",MESSENGER_WEB_SEARCH:"source:messenger:web_search",SAM_UFI:"source:sam:ufi",SHARE_DIALOG:"source:share:dialog",SEND_PLUGIN:"source:sendplugin",SMS:"source:sms",TEST:"source:test",TITAN_WAP:"source:titan:wap",TITAN_M_BASIC:"source:titan:m_basic",TITAN_M_FREE:"source:titan:m_free_basic",TITAN_M_JAPAN:"source:titan:m_japan",TITAN_M_MINI:"source:titan:m_mini",TITAN_M_TOUCH:"source:titan:m_touch",TITAN_M_APP:"source:titan:m_app",TITAN_M_TABLET:"source:titan:m_tablet",TITAN_M_ZERO:"source:titan:m_zero",TITAN_M_TALK:"source:titan:m_talk",TITAN_WEB:"source:titan:web",TITAN_FACEWEB_ANDROID:"source:titan:faceweb_android",TITAN_FACEWEB_BUFFY:"source:titan:faceweb_buffy",TITAN_FACEWEB_IPAD:"source:titan:faceweb_ipad",TITAN_FACEWEB_IPHONE:"source:titan:faceweb_iphone",TITAN_FACEWEB_UNKNOWN:"source:titan:faceweb_unknown",TITAN_API:"source:titan:api",TITAN_API_MOBILE:"source:titan:api_mobile",TITAN_ORCA:"source:titan:orca",TITAN_EMAIL_REPLY:"source:titan:emailreply",MOBILE:"source:mobile",PAGE_PLATFORM_API:"source:page_platform_api",PAGE_UNIFIED_INBOX:"source:page_unified_inbox",WHATSAPP_CALLBACK:"source:wa_callback",UNKNOWN:"source:unknown",WEB:"source:web",HELPCENTER:"source:helpcenter",NEW_SHARE_DIALOG:"source:share:dialog:new",PAID_PROMOTION:"source:paid_promotion",BUFFY_SMS:"source:buffy:sms",WEBRTC_MOBILE:"source:webrtc:mobile",MESSENGER_COMMERCE:"source:messenger:commerce",MESSENGER_BOT:"source:bot",MESSENGER_EMPLOYEE_ONLY_BOT:"source:bot:employee_only",MESSENGER_OMNIM:"source:messenger:omnim",PAGES_PRIVATE_REPLY:"source:pages:private_reply",MESSENGER_FORWARD_DIALOG:"source:messenger:forward",MESSENGER_AD:"source:messenger:ad",MARKETPLACE:"source:marketplace",MARKETPLACE_BOT:"source:marketplace:bot",MESSENGER_LEAD_GEN:"source:messenger:lead_gen",PAGES_MESSAGE_SHORTLINK:"source:pages:message_shortlink",STICKER_SUBSCRIBE:"source:messenger:sticker_subscribe",PHOTO_TAG:"source:messenger:photo_tag",INTERNAL_TEST_INBOX:"source:internal:test_inbox",INTERNAL_TEST_PENDING:"source:internal:test_pending",INTERNAL_TEST_OTHER:"source:internal:test_other",INTERNAL_TEST_ML_ONLY:"source:internal:test_ml_only",JOB_SEARCH_APPLICATION:"source:job_search:application",MESSENGER_JOINABLE_LINK:"source:messenger:joinable_link",MESSENGER_ADD_WITH_APPROVAL:"source:messenger:add_with_approval",MESSENGER_SMS_BRIDGE_CONVERT:"source:messenger:sms_bridge_conversion",TINCAN_ORCA:"source:tincan:orca",TINCAN_IOS:"source:tincan:ios",TINCAN_UNKNOWN:"source:tincan:unknown",FACEBOOK_GROUPS_CHANNELS:"source:groups:channels",GROUP_COMMERCE:"source:group_commerce",INTERNAL_TOOL:"source:internal:tool",PAGES_PLATFORM:"source:pages:platform",PAGES_RECOMMENDATION:"source:pages:recommendation",PAGES_ORDER_MANAGEMENT:"source:pages:order_management",PAGE_AUTO_RESPONSE:"source:pages:auto_response",PAGES_INVITE:"source:pages:invite",PAGES_CHAT_EXTENSION:"source:pages:chat_extension",PAGES_COMPOSER:"source:pages:composer",PTX:"source:ptx",SAVED_CHAT_EXTENSION:"source:saved:chat_extension",CREATOR_PAGE_INITIATE_TO_CREATOR_PAGE:"source:pages:creator_page_initiate_to_creator_page",LIVE_VIDEO_CHAT:"source:live_video_chat",GEMSTONE:"source:gemstone",WATCH_PARTY:"source:watch_party",WORK_ACTIVATION_CARD_GENERAL_GROUP_CHAT:"source:work:activation_card_general_group_chat",SCHOOL_COMMUNITY:"source:school_community",SCHOOL_COMMUNITY_COURSE:"source:school_community_course",BELL_RESEARCH:"source:bell_research",BELL_MESSENGER_LINKED:"source:bell_messenger_linked",BELL_MESSENGER_UNLINKED:"source:bell_messenger_unlinked",BELL_MESSENGER_ONBOARD:"source:bell_messenger_onboard",PROFILE_MEET_NEW_FRIENDS:"source:profile_meet_new_friends",PROFILE_MEET_NEW_FRIENDS_REPLY:"source:profile_meet_new_friends_reply",FRIENDING_ADMIN_BUMP:"source:messenger_growth:friending_admin_bump",NEW_MESSENGER_USER_ADMIN_BUMP:"source:messenger_growth:new_messenger_user_admin_bump",EVENT_UPCOMING_BUMP:"source:messenger_growth:event_upcoming_bump",PHOTO_TAG_BUMP:"source:messenger_growth:photo_tag_bump",WALL_POST_BUMP:"source:messenger_growth:wall_post_bump",FRIENDVERSARY_BUMP:"source:messenger_growth:friendversary_bump",CUSTOMIZATION_UPSELL_BUMP:"source:messenger_growth:customization_upsell_bump",MESSENGER_BROADCASTFLOW:"source:messenger:broadcastflow",PAGE_COMMENT_MSG:"source:pages:question_triggered_convo",COMMENT_PIVOT:"source:messenger_growth:comment_pivot",PAGE_HOVERCARD:"source:pages:hovercard",INSTANT_GAMES_GAME_UPDATE:"source:instant_games_game_updates",INSTANT_GAMES_MATCH_MAKING:"source:instant_games_match_making",INSTANT_GAMES_GROUP_CREATION:"source:instant_games_group_creation",MOBILE_GAME_SHARE:"source:games_app:mobile_game_share",PAGE_EMAIL_REPLY:"source:pages:email_reply",PAGE_HOME_PAGE_PANEL:"source:page_home_page_panel",GROUPSYNC_MESSENGER_GROUP_CREATE:"source:groupsync:messenger_group_create",GROUPSYNC_SYNC_FROM_FB:"source:groupsync:sync_from_fb",GROUPSYNC_NAMING:"source:groupsync:naming",GROUPSYNC_THREAD_INFO_SYNC_FROM_FB:"source:groupsync:thread_info_sync",WORK_GROUP_SYNCED_CHAT_CREATION:"source:work:groupchat:creation",WORK_DEFAULT_GROUP_SYNCED_CHAT_CREATION:"source:work:defaultgroupchat:creation",WORK_GROUP_SYNCED_CHAT_MEMBER_SYNC:"source:work:groupchat:member_sync",WORK_GROUP_SYNCED_CHAT_NAME_SYNC:"source:work:groupchat:name_sync",PAGE_PQI_MESSAGE:"source:pages:pqi_message",PAGE_PLUGIN_MESSAGE:"source:pages:page_plugin_message",WORKPLACE_CHAT_DESKTOP:"source:workchat:desktop",CREATOR_STUDIO:"source:creator_studio",FB_GROUP_ADMINSHIP_SYNC:"source:fbgroup:adminship_sync",FB_GROUP_CHAT_MUTE_MEMBER:"source:fbgroup:mute_member",MESSENGER_ADS_PARTIAL_AUTOMATED_REMINDER:"source:ads_partial_automated:reminder",MENTORSHIP:"source:mentorship",VOD_CONVERSATION:"source:vod_conversation",LOCAL_SEARCH_SERVICES:"source:local_search_services",YOUTH_VAULT:"source:youth_vault",MESSENGER_KIDS:"source:messenger_kids",STORY_REPLY:"source:story_reply"})}),null);
__d("WorkGoal",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WELCOME_VIDEO:"welcome_video",WELCOME_VIDEO_INLINE:"welcome_video_inline",UPLOAD_LOGO:"upload_logo",ADD_PEOPLE:"add_people",ADD_PEOPLE_INLINE:"add_people_inline",SUBDOMAIN_UPSELL:"subdomain_upsell",INVITE_COWORKERS:"invite_coworkers",CREATE_GROUP:"create_group",CREATE_POST:"create_post",VISIT_DASHBOARD:"visit_dashboard",ADD_CONTENT_INTEGRATION:"add_content_integration",INSTALL_WORK_CHAT:"install_work_chat",SET_PROFILE_PICTURE:"set_profile_picture",ADD_DOMAINS:"add_domains",CREATE_POST_IN_GROUP:"create_post_in_group",ADD_PEOPLE_TO_GROUP:"add_people_to_group",DOWNLOAD_DESKTOP_APP:"download_desktop_app",WELCOME_MESSAGE:"welcome_message",JOIN_GROUPS:"join_groups",FOLLOW_COWORKERS:"follow_coworkers",ONBOARDING_WELCOME:"onboarding_welcome",ONBOARDING_ADD_PEOPLE:"onboarding_add_people",ONBOARDING_UPLOAD_LOGO:"onboarding_upload_logo",ONBOARDING_CREATE_GROUP:"onboarding_create_group",ONBOARDING_SUGGESTED_GROUPS:"onboarding_suggested_groups",ONBOARDING_MOBILE_UPSELL:"onboarding_mobile_upsell",ONBOARDING_GYSJ:"onboarding_gysj",COMMUNITY_SETUP:"community_setup",ONBOARDING_COMMUNITY_INVITE:"onboard_community_invite",IN_PRODUCT_NUX_CARD_WELCOME:"in_product_nux_card_welcome",IN_PRODUCT_NUX_CARD_WELCOME_POST:"in_product_nux_card_welcome_post",IN_PRODUCT_NUX_CARD_FIRST_POST:"in_product_nux_card_first_post",IN_PRODUCT_NUX_CARD_CREATE_GROUP:"in_product_nux_card_create_group",IN_PRODUCT_NUX_CARD_GROUP_COVER_PHOTO:"in_product_nux_card_group_cover_photo",IN_PRODUCT_NUX_CARD_PROFILE_PICTURE:"in_product_nux_card_profile_picture",IN_PRODUCT_NUX_CARD_ENGAGE_WITH_POST:"in_product_nux_card_engage_with_post",IN_PRODUCT_NUX_CARD_INVITE_COWORKERS:"in_product_nux_card_invite_coworkers",IN_PRODUCT_NUX_CARD_INVITE_MORE_COWORKERS:"in_product_nux_card_invite_more_coworkers",IN_PRODUCT_NUX_CARD_GENERAL_CHAT_THREAD:"in_product_nux_card_general_chat_thread",IN_PRODUCT_NUX_CARD_ADD_PROFILE_PICTURE:"in_product_nux_card_add_profile_picture",IN_PRODUCT_NUX_CARD_UPLOAD_FILE:"in_product_nux_card_upload_file",IN_PRODUCT_NUX_CARD_PROMOTE_POST:"in_product_nux_card_promote_post",IN_PRODUCT_NUX_CARD_SUGGESTED_DEFAULT_GROUPS:"in_product_nux_card_suggested_default_groups",IN_PRODUCT_NUX_CARD_TRY_GALAHAD:"in_product_nux_card_try_galahad",IN_PRODUCT_NUX_INSTALL_WORK_CHAT:"in_product_nux_card_install_work_chat",PROFILE_COMPLETION_SET_PROFILE_PICTURE:"profile_completion_set_profile_picture",PROFILE_COMPLETION_SET_JOB_TITLE:"profile_completion_set_job_title",PROFILE_COMPLETION_SET_MANAGER:"profile_completion_set_manager",FIRST_COWORKER_INVITES:"first_coworker_invites",CREATE_GROUP_EMAIL_MODULE:"create_group_email_module",CREATE_POST_EMAIL_MODULE:"create_post_email_module",UPLOAD_FILE_EMAIL_MODULE:"upload_file_email_module",PROFILE_PIC_EMAIL_MODULE:"profile_pic_email_module",DOWNLOAD_APPS_EMAIL_MODULE:"download_apps_email_module",CHOOSE_USE_CASES:"choose_use_cases",JOURNEY_EXPLORATION_PROFILE_PHOTO:"journey_exploration_profile_photo",JOURNEY_EXPLORATION_INVITE_COWORKERS:"journey_exploration_invite_coworkers",JOURNEY_EXPLORATION_WELCOME_POST:"journey_exploration_welcome_post",JOURNEY_EXPLORATION_SUGGESTED_GROUPS:"journey_exploration_suggested_groups",JOURNEY_TRIAL_CHAT:"journey_trial_chat",JOURNEY_TRIAL_VC:"journey_trial_vc",JOURNEY_TRIAL_LIVE_VIDEO:"journey_trial_live_video",JOURNEY_TRIAL_GROUP_INVITE:"journey_trial_group_invite",JORUNEY_TRIAL_UPLOAD_FILE:"journey_trial_upload_file",JOURNEY_LAUNCH_EDUCATION:"journey_launch_education",JOURNEY_LAUNCH_INTEGRATIONS:"journey_launch_integrations",JOURNEY_LAUNCH_TRAINING:"journey_launch_training",JOURNEY_LAUNCH_BULK_INVITE:"journey_launch_bulk_invite",JOURNEY_LAUNCH_ANNOUNCEMENT:"journey_launch_announcement",JOURNEY_LAUNCH_GROUPS:"journey_launch_groups"})}),null);
__d("WorkGoalEventType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",COMPLETE:"complete",SKIP:"skip",SNOOZE:"snooze",OPEN_DIALOG:"open_dialog",DISMISS_FOCUS:"dismiss_focus",ELEMENT_CLICK:"element_click",GENERAL_CHAT_SEND_MESSAGE:"general_chat_send_message",VISIT_LINK:"visit_link",IDP_IMPRESSION:"idp_impression",IDP_FETCH:"idp_fetch",IDP_SEARCH:"idp_search",IDP_INVITE:"idp_invite",USE_CASE_BUNDLE_IMPRESSION:"use_case_bundle_impression",USE_CASE_BUNDLE_CLICK:"use_case_bundle_click",USE_CASE_BUNDLE_COMPLETED:"use_case_bundle_completed",USE_CASE_BUNDLE_SKIP:"use_case_bundle_skip",USE_CASE_VIDEO_IMPRESSION:"use_case_video_impression",USE_CASE_VIDEO_STARTED:"use_case_video_started",USE_CASE_VIDEO_COMPLETED:"use_case_video_completed",USE_CASE_VIDEO_DISMISSED:"use_case_video_dismissed",USE_CASE_VIDEO_CLICKED_DONE:"use_case_video_clicked_done",USE_CASE_VIDEO_WATCH_AND_SCROLL_STARTED:"use_case_video_watch_and_scroll_started",CLICK:"click"})}),null);
__d("MMessagesReplyComposer",["CSS","CurrentUser","DOM","MessagingSourceEnum","MMessagesConfig","MMultiPhotoUploaderAttachmentState","MRequest","Stratcom","SubscriptionsHandler","WorkGoal","WorkGoalEventType","WorkGoalTypedLogger","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();var u="m-messaging-error-message",v="m-messaging-error-resend-btn",w=1e3;function a(a,b,c,d,e,f,j){"use strict";this.form=a,this.textbox=b,this.sendButton=c,this.likeButton=d,this.userID=h.getID(),this.threadID=e,this.defaultMessage=f,this.source=j,this.state={isFocused:!1,isTyping:!1,hasPhotos:!1},this.photosState=l.getDefaultState(),this.prevSendRequest=null,this.pageListeners=new o(),this.pageListeners.addSubscriptions(i.listen(this.textbox,"focus",null,this.$1.bind(this)),i.listen(this.textbox,"blur",null,this.$2.bind(this)),i.listen(this.textbox,["keyup","keydown","change","input"],null,this.$3.bind(this)),i.listen(this.sendButton,"click",null,this.$4.bind(this)),i.listen(this.likeButton,"click",null,this.$5.bind(this)),n.listen("click",[v],this.$6.bind(this)),n.listen("MMultiPhotoUploader:attachments:change",null,this.$7.bind(this))),n.listen("m:page:unload",null,function(){this.pageListeners.release(),n.removeCurrentListener()}.bind(this)),this.$8(),this.$9(),g.removeClass(this.form,"_3ci_"),f!==null&&(this.textbox.value=f,this.$3())}a.prototype.$7=function(a){"use strict";this.photosState=a.getData(),this.$10("hasPhotos",this.photosState[l.UPLOADED]>0||this.photosState[l.SENDING]>0),this.$9()};a.prototype.$1=function(){"use strict";this.$10("isFocused",!0)};a.prototype.$2=function(){"use strict";this.$10("isFocused",!1)};a.prototype.$3=function(){"use strict";this.$10("isTyping",this.textbox.value!==""),this.$9()};a.prototype.$9=function(){"use strict";var a=this.photosState[l.SENDING]===0&&(!/^\s*$/.test(this.textbox.value)||this.photosState[l.UPLOADED]>0);!a?this.sendButton.setAttribute("disabled",!0):this.sendButton.removeAttribute("disabled")};a.prototype.$11=function(){"use strict";this.likeButton.setAttribute("disabled",!0),setTimeout(function(){this.likeButton.removeAttribute("disabled")}.bind(this),w)};a.prototype.$10=function(a,b){"use strict";this.state[a]=b,this.$8()};a.prototype.$8=function(){"use strict";g.conditionClass(this.form,"_3ciz",this.state.isFocused||this.state.isTyping),g.conditionClass(this.form,"_3cj0",this.state.hasPhotos)};a.prototype.$6=function(){"use strict";this.sendRequest(this.prevSendRequest.url,this.prevSendRequest.data),i.hide(i.find(document,"div",u))};a.prototype.$5=function(a){"use strict";this.$12(a,!0)};a.prototype.$4=function(a){"use strict";this.$12(a,!1)};a.prototype.$12=function(a,b){"use strict";var c=this.form,d=i.convertFormToDictionary(c),e=c.action;this.textbox.value!==null&&this.$13(this.textbox.value);c.reset();this.$3();a&&a.prevent();b&&(d.sticker_id=369239263222822);this.sendRequest(e,d);this.$11()};a.prototype.$13=function(a){"use strict";this.defaultMessage!==null&&h.isWorkUser()&&this.source===j.WORK_ACTIVATION_CARD_GENERAL_GROUP_CHAT&&new r().setGoal(p.IN_PRODUCT_NUX_CARD_GENERAL_CHAT_THREAD).setEvent(q.GENERAL_CHAT_SEND_MESSAGE).addToExtraData("did_send_default_message",a===this.defaultMessage).log()};a.prototype.sendRequest=function(a,b){"use strict";var c={start:function(a){i.hide(i.find(document,"div",u))},process:function(a){},error:function(a){i.show(i.find(document,"div",u))},fail:function(a){c.error(a)},postprocess:function(a){n.invoke("m:ajax:complete")}};this.prevSendRequest={data:b,url:a};b=this.$14(b,a,c);b.send()};a.prototype.$14=function(a,b,c){"use strict";__p&&__p();a.action_time=Date.now();var d=i.find(document,"*","m-messaging-composer-container"),e="async_composer";b=new m(b);b.addData(a);b.setMethod("POST");k.msgrRegion&&b.setRequestHeader("X-MSGR-Region",k.msgrRegion);var f=e+"_saving";a=function(a){g.conditionClass(d,e,!a),g.conditionClass(d,f,a)};b.listen("start",a.bind(null,!0));b.listen("finally",a.bind(null,!1));for(var h in c)b.listen(h,c[h]);return b};a.handleSendError=function(){"use strict";i.show(i.find(document,"div",u))};a.handleRecipientUnavailableError=function(){"use strict";alert(t._("Esta persona no est\u00e1 disponible en este momento."))};e.exports=a}),null);
__d("MHeaderSelect",["MViewport","Stratcom"],(function(a,b,c,d,e,f,g,h){h.listen("focus","header-select",g.scrollToHeader)}),null);
__d("MSelectLink",["MJSEnvironment","MLegacyDataStore","MPageController","MRequest","Stratcom","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();a=g.IS_APPLE_WEBKIT_IOS&&parseInt(g.OS_VERSION,10)>=6?"blur":"change";k.listen(a,"select-link",function(a){__p&&__p();var b=a.getNode("tag:select");a=h.get(a.getNode("select-link"));var c=a.method==="POST"?"POST":"GET";l(function(){var a=b.options[b.selectedIndex].getAttribute("value"),d=b.options[b.selectedIndex].getAttribute("title");if(d==="mrequest"){d=new j(a);d.setMethod(c).send()}else a&&i.load(a,{replace:!0,method:c})},0)})}),null);