if (self.CavalryLogger) { CavalryLogger.start_js(["\/fRCW"]); }

__d("MSearchKeywordsConst",[],(function(a,b,c,d,e,f){e.exports={keywordType:"keyword",keywordTypes:{celebrity:"celebrity",trending:"trending",keyword:"keyword",football:"am_football",photos:"photos",videos:"videos",hashtag:"hashtag",local:"local",localCategory:"local_category",company:"company",movie:"movie",happeningNow:"happening_now",link:"link",specialIntentGeneric:"special_intent_gener"},intentKeys:["isTrending","isCelebrity","isFootball","isPhotos","isVideos","isHashtag","isLocal","isCompany","isMovie","isHappeningNow","isSpecialIntentGeneric","isLink"],keywordBootstrapTypes:{recent:"recent_search_suggestion",popular:"popular_search_suggestion",trending:"trending_search_suggestion",serp_first:"serp_first_suggestion",people:"people_suggestion",null_state:"null_state_suggestion",awareness:"awareness_suggestion",interest:"interest_suggestion",cf_search:"collaborative_filtered_search_suggestion"}}}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results",INLINE_ACTION:"inline_action"})}),null);
__d("mSearchSimplificationResultTransformer",["MSearchSimplificationUtils","URI"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.type==="keyword",c=a.display,d=a.path,e=a.id,f=a.type;c=(a.display||a.text).toLowerCase();e=g.getKeywordSemantic(c);d=new h(d);b||(d=g.getKeywordURI(c).toString(),f="keyword");return{boldedSubtext:a.boldedSubtext,cost:a.cost,display:c,id:e,idx:a.idx,isScoped:a.is_scoped,isVerified:a.is_verified,keyword_type:a.keyword_type,keywordBoldedSubtext:a.keywordBoldedSubtext,keywordRenderType:a.keywordRenderType,logInfo:a.logInfo,name:a.text,photo:a.photo,showGrayCheck:a.show_gray_check,subtext:a.subtext,tokens:a.tokens,type:f,uri:d,verticalType:a.vertical_type,keywordSource:a.keywordSource}}e.exports=a}),null);
__d("MGraphSearchTypeaheadTouchSource",["MTypeaheadTouchSource","mSearchSimplificationResultTransformer"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;b=babelHelpers.inherits(a,g);i=b&&b.prototype;function a(a,b){"use strict";i.constructor.call(this,a,b),this.setNormalizer(function(a){return a.toLowerCase()})}a.prototype.renderNodes=function(a,b){"use strict";__p&&__p();if(this._shouldOnlyPrefixMatch){var c=[];for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=this._raw[g];h.display.toLowerCase().indexOf(a.toLowerCase())===0&&c.push(g)}b=c}return i.renderNodes.call(this,a,b)};a.prototype.checkFragmentMatches=function(a,b,c,d){"use strict";if(a.substr(0,b.length)!==b)return!1;c=c[c.length-1]!==" ";return!c||b!==d?a==b:!0};a.prototype.tokenize=function(a){"use strict";a=i.tokenize.call(this,a);a[a.length-1]===""&&a.pop();return a};a.prototype.setConvertEntityToKeyword=function(a){"use strict";this.convertEntityToKeyword=a};a.prototype.getTransformer=function(){"use strict";return function(a){return this.convertEntityToKeyword?babelHelpers["extends"]({},h(a),{bootstrapped:!0}):{name:a.text,uri:a.path,id:a.uid,display:a.display||a.text,photo:a.photo,category:a.category,cost:a.cost,idx:a.idx,tokens:a.tokens,type:a.untranslated_type||a.type,verticalType:a.vertical_type,subtext:a.text_only_subtext||a.subtext,logInfo:a.logInfo,bootstrapped:!0,saved_context:a.saved_context,render_type:a.render_type,isVerified:a.is_verified,showGrayCheck:a.show_gray_check,isWorkForeignEntity:a.is_work_foreign_entity}}.bind(this)};a.prototype.setShouldOnlyPrefixMatch=function(a){"use strict";this._shouldOnlyPrefixMatch=a};e.exports=a}),null);
__d("SearchLoggingClientUnitIdPrefix",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WWW_BEM:"www_bem",WWW_BEM_RES:"www_bem_res",WWW_INSTANT_BEM:"www_instant_bem",WWW_SPELLER:"www_speller",MTOUCH_BEM:"mtouch_bem",MTOUCH_BEM_RES:"mtouch_bem_res"})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:!0},logging_unit_id:{type:"String",required:!0},query:{type:"String",required:!0},query_function:{type:"String",required:!0},results_module_role:{type:"String",required:!0},tapped_result_entity_id:{type:"String"},entity_ids:{type:"StringSet"},bootstrap_item_count:{type:"Int"},should_log_module_impression:{type:"Bool",defaultValue:!1},is_high_confidence_module:{type:"Bool",defaultValue:!1}})}),null);
__d("MSearchBootstrapEntityModuleLoggingUtils",["MRequest","MViewableImpressionTracking","SearchEntityModuleServerConstants","SearchLoggingClientUnitIdPrefix","SearchMSiteTrackableClientViewConfig","XSearchBEMUnitDataLoggingController","invariant","md5","memoizeWithArgs","randomInt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q={getModuleTrackingData:o(function(a,b){var c=i.SEARCH_RESULTS_TRACKABLE;c=c+JSON.stringify({session_id:a,unit_id:q._getModuleUnitID(a),unit_id_click_type:b});return{"data-xt":c,"data-xt-vimp":JSON.stringify(k)}},function(a,b){return a+(b!=null?b:"")}),getSerializedResultTrackingData:o(function(a,b,c,d){var e=b.type,f=i.SEARCH_RESULTS_TRACKABLE,g=i.MTOUCH_BEM_CLICK_TYPE,h=i.RESULT_TYPE_TO_MODULE_ROLE,j=i.TYPE_TO_BROWSE_TYPE,k=q._getResultUnitID(a,b);return f+JSON.stringify({browse_result_type:j[e],click_type:g,module_result_position:c.indexOf(b),module_role:h[e],result_id:b.id,session_id:a,unit_id:k,unit_id_click_type:d,unit_id_result_id:b.id})},function(a,b,c,d){return a+b.id+c.map(function(a){return a.id}).join(",")+(d!=null?d:"")}),logUnitData:function(a,b,c,d){__p&&__p();var e=q._getModuleUnitID(a),f=b.first();f!=null||m(0,3535);f=f.type;var h=i.RESULT_TYPE_TO_MODULE_ROLE,j=i.BROWSE_EDGE_KEYWORDS_SEARCH;j=j+"("+c+")";h=h[f];f=l.getURIBuilder().setString("session_id",a).setString("query",c).setString("query_function",j).setString("results_module_role",h).setString("logging_unit_id",e).setInt("bootstrap_item_count",b.size).setStringSet("entity_ids",b.map(function(a){return a.id}).toArray()).setBool("is_high_confidence_module",d.isHighConfidenceModule).setBool("should_log_module_impression",!0);new g(f.getURI()).send();for(var e=b,b=Array.isArray(e),k=0,e=b?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(b){if(k>=e.length)break;n=e[k++]}else{k=e.next();if(k.done)break;n=k.value}n=n;var o=q._getResultUnitID(a,n);f=l.getURIBuilder().setString("session_id",a).setString("query",c).setString("query_function",j).setString("results_module_role",h).setString("logging_unit_id",o).setString("tapped_result_entity_id",String(n.id)).setBool("is_high_confidence_module",d.isHighConfidenceModule);new g(f.getURI()).send()}},initVPVDLogging:function(){h.init()},_getModuleUnitID:o(function(a){return q._generateUnitID(j.MTOUCH_BEM)},function(a){return a}),_getResultUnitID:o(function(a,b){return q._generateUnitID(j.MTOUCH_BEM_RES)},function(a,b){return a+b.id}),_generateUnitID:function(a){return a+":"+n(String(p(0,Number.MAX_SAFE_INTEGER)))}};e.exports=q}),null);
__d("XSearchEntityPrimaryActionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/entity_primary_actions/",{container_id:{type:"String",required:!0},ent_id:{type:"FBID",required:!0},result_type:{type:"String",required:!0}})}),null);
__d("XSearchProfilePictureController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0}})}),null);
__d("MSearchEntityResult",["DOM","MRequest","MRequestTypes","XSearchEntityPrimaryActionsController","XSearchProfilePictureController","cx","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=64;function o(a){var b=a.result.photo,c=a.result.type==="user";c&&(b=k.getURIBuilder().setFBID("fbid",String(a.result.id)).setInt("width",n).setInt("height",n).getURI().toString());return b==null?null:g.create("a",{href:a.result.uri,touchable:!0},g.create("img",{className:"_uod",src:b}))}function p(a){var b=a.result,c=b.name,d=b.subtext,e=b.isVerified;b=b.showGrayCheck;var f;b?f=g.create("i",{className:"_uog"}):e&&(f=g.create("i",{className:"_uoe"}));return g.create("a",{className:"_uoh touchable",href:a.result.uri},[g.create("div",{className:"_uoi"},[g.create("div",{className:"_uok"},c),f]),g.create("div",{className:"_1e8d"},d)])}function q(a){var b=a.result,c="bem_"+b.id;a=g.create("div",{id:c,className:"_5_fr"},g.create("div",{className:"_55ym _55yq"}));m(function(){var a=j.getURIBuilder().setString("container_id",c).setFBID("ent_id",String(b.id)).setString("result_type","browse_type_"+b.type).getURI();new h(a).setMethod("GET").setType(i.INDEPENDENT).send()});return a}function a(a){return g.create("div",{className:"_uoq _3o0d"+(a.ddSplit?" _73jw":"")},[o(a),p(a),q(a)])}e.exports=a}),null);
__d("search_hcm_MatchCriteria",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXACT:0,PARTIAL:1,FIRST_TOKEN:2,PREFIX:3,NO_CONSTRAINT:4,TRIMMED:5})}),null);
__d("SearchHCMMatchUtil",["FBLogger","SearchHCMServerConstants","TokenizeUtil","search_hcm_MatchCriteria"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k={};Object.keys(h.MATCH_CRITERIA_TO_STRING).forEach(function(a){a=Number(a);a=a;k[h.MATCH_CRITERIA_TO_STRING[a]]=a});function l(a){return i.parse(a).tokens.join("")}function a(a,b,c){__p&&__p();b=b.toLowerCase().trim();c=c.toLowerCase().trim();a=typeof a==="string"?k[a]:a;switch(a){case j.EXACT:return b===c;case j.PARTIAL:return c.indexOf(b)!==-1;case j.PREFIX:return c.indexOf(b)===0;case j.NO_CONSTRAINT:return!0;case j.TRIMMED:return l(b)===l(c);default:g("search").warn("Unexpected HCM match criteria %s",a);return b===c}}e.exports={match:a}}),null);
__d("SearchHCMUtil",["SearchEntityModuleServerConstants","SearchHCMMatchUtil","invariant","search_hcm_MatchCriteria"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k={shouldTriggerBEMHCM:function(a,b){if(!b.bemHCMEnabled)return!1;var c=b.hcm_match_criteria;if(c==null&&b.type==="user"&&h.match(j.EXACT,a,b.text))return!0;return b.show_hcm_experience!==!0?!1:c!=null&&h.match(c,a,b.text)},getHighConfidenceArgument:function(a,b){if(!k.shouldTriggerBEMHCM(a,b))return null;b!=null||i(0,1463);return{id:b.id,module_role:g.RESULT_TYPE_TO_MODULE_ROLE[b.type],module_logging_unit_id:null,result_logging_unit_id:null,supported_attachments:null,source:null}}};e.exports=k}),null);
__d("XTrackableImpressionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/xt/i/",{xt:{type:"String",required:!0},isv:{type:"Int"},cts:{type:"Int"},csp:{type:"Int"},hba:{type:"Bool",defaultValue:!1},ui:{type:"Bool",defaultValue:!1}})}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function(a,b,c,d,e,f,g,h){var i={mtouch:"412378670482",www:"256281040558"};function a(a){var b=a.appName;a=a.edge;return h([i[b],g.getID(),a,Math.floor(Date.now()/30)].join(":"))}e.exports=a}),null);
__d("MSearchBootstrapEntityModule",["Base64","BrowseWebSLRPELoggerClickType","CSS","DOM","MGraphSearchTypeaheadTouchSource","MPageFetcher","MRequest","MRequestTypes","MSearchBootstrapEntityModuleLoggingUtils","MSearchBootstrapEntityModuleSettings","MSearchEntityResult","MSearchHighConfUserAttachmentsExperiment","MSearchSimplificationUtils","MViewport","SearchEntityModuleServerConstants","SearchHCMUtil","Stratcom","Style","SubscriptionsHandler","URI","XTrackableImpressionController","csx","cx","fbt","generateBrowseSessionID","immutable","qex"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G){"use strict";__p&&__p();function a(a){__p&&__p();this.$2=function(){__p&&__p();var a=this.state.query,b=F.List(this.source.getMatchedResults(a));if(b.size===0){this.setState({results:F.List(),resultType:null,isVisible:!1,sessionID:E({appName:"mtouch",edge:"keywords_search"})});return}b.forEach(function(a){a.render_type==="place"&&(a.type="place")});var c=b.first(),d=c.type;if(d==null){this.setState({results:F.List(),isVisible:!1,sessionID:E({appName:"mtouch",edge:"keywords_search"})});return}b=b.filter(function(a){return a.render_type===d||a.type===d});c=E({appName:"mtouch",edge:"keywords_search"});var e=s.isCurrentPathTopTabPath(),f=s.isTypeaheadOpen();this.setState({results:b,isVisible:b.size>0&&(this.state.serpIsLoading||e&&!f),sessionID:c});e=this.getPossibleHCMResult(b);f=e!=null&&v.shouldTriggerBEMHCM(a,e);o.logUnitData(this.state.sessionID,this.state.results,this.state.query,{isHighConfidenceModule:f});o.initVPVDLogging();this.resultsElement=j.create("div",o.getModuleTrackingData(this.state.sessionID,h.VIEW_PORT_VIEWS_ON_SEARCH_RESULTS));var g=p.ddEnabled&&d!=="user";c=p.ddRoundCorners;e=b.map(function(a,c){a.uri=new z(a.uri).addQueryData({refid:u.MTOUCH_SEARCH_REFID,ref:u.BROWSE_NAV_SOURCE_CONTENT_FILTERS,__xts__:[o.getSerializedResultTrackingData(this.state.sessionID,a,b,h.ITEM_IN_MODULE_TAPPED)]}).toString();c===0&&G._("780192")&&l.prefetch(a.uri);return[this.$7(a),q({result:a,ddSplit:g})]}.bind(this)).toArray();var k=null;this.footer=null;!f&&!g&&(this.footer=this.$8(d,a),k=this.$9(d));f=[k,j.create("div",{},e),this.footer];!g&&c&&(f=j.create("div",{className:c?"_73jt":""},f));j.setContent(this.resultsElement,f);j.setContent(this.root,this.resultsElement);g?i.addClass(this.root,"_756c"):i.removeClass(this.root,"_756c")}.bind(this),this.$3=function(){var a=s.isCurrentPathSERPPath(),b=s.isCurrentPathTopTabPath(),c=s.isTypeaheadOpen(),d=s.getQueryFromCurrentPath(),e=this.state.query;d!=null&&(e=d);this.setState({query:e,isVisible:b&&!c&&this.state.results.size>0,spinnerIsVisible:a&&!c&&this.state.serpIsLoading});b&&t.scrollToHeader()}.bind(this),this.$4=function(){var a=s.isCurrentPathSERPPath();this.setState({footerIsVisible:!1,spinnerIsVisible:a,serpIsLoading:a})}.bind(this),this.$5=function(){__p&&__p();this.setState({spinnerIsVisible:!1,serpIsLoading:!1});var a=s.isCurrentPathTopTabPath();if(!a)return;a=this.state.results;if(a.size===0)return;a=a.first();a=a.render_type!=null?a.render_type:a.type;var b=document.querySelector("._45fx [data-module-result-type]");b==null||b.getAttribute("data-module-result-type")!==a?this.setState({footerIsVisible:!0}):b!=null&&x.set(b,"margin-top",0)}.bind(this),this.$6=function(a,b,c){__p&&__p();c=this.state;var d=c.results;c=c.query;if(!s.isTopTabURI(b)||d.size===0)return null;var e=d.first();e=e.render_type!=null?e.render_type:e.type;var f=this.getPossibleHCMResult(d);a=new m(b.toString()).setType(n.TRANSITION).setFullPage(!0).setMethod(a).addData((b={preloaded_entity_ids:d.map(function(a){return a.id}).toArray(),preloaded_entity_type:e},b[u.SERP_SESSION_ID]=this.state.sessionID,b));f!=null&&v.shouldTriggerBEMHCM(c,f)&&a.addData({high_confidence_argument:g.encode(JSON.stringify(v.getHighConfidenceArgument(c,f)))});return a}.bind(this),this.typeahead=a}a.prototype.enable=function(){this.state={query:this.typeahead.getValue(),isVisible:!1,spinnerIsVisible:!1,footerIsVisible:!1,serpIsLoading:!1,results:F.List(),sessionID:E({appName:"mtouch",edge:"keywords_search"})},this.$1(),this.source=new k(p.bootstrapSource,p.bootstrapKey),this.source.clientRendered=!0,this.source.setMaximumResultCount(p.maxBootstrapResults),this.subscriptions=new y(),this.subscriptions.addSubscriptions(this.source.listen("resultsready",this.$2),w.listen("m:history:change",null,this.$3),w.listen("m:page:request-sent",null,this.$4),w.listen("m:page:render:complete",null,this.$5)),this.source.didStart(),l.addHandler(this.$6)};a.prototype.disable=function(){this.subscriptions.release(),j.remove(this.root)};a.prototype.$1=function(){var a=p.ddRoundCorners;this.root=j.create("div",{className:"_234-"+(p.ddEnabled?" _756d":"")+(a?" _73ku":"")});this.state.isVisible?j.show(this.root):j.hide(this.root);j.appendContent(this.typeahead.getRoot(),this.root);this.spinner=j.create("div",{className:"_5_ee"},j.create("div",{className:"_55ym _55yq"}));this.state.spinnerIsVisible?j.show(this.spinner):j.hide(this.spinner);j.appendContent(this.typeahead.getRoot(),this.spinner)};a.prototype.$10=function(a){__p&&__p();var b=null;switch(a){case"user":b=D._("Personas");break;case"page":b=D._("P\u00e1ginas");break;case"group":b=D._("Grupos");break;case"place":b=D._("Lugares");break;case"event":b=D._("Eventos");break}return b};a.prototype.$9=function(a){return j.create("div",{className:"_5_50"},this.$10(a))};a.prototype.$8=function(a,b){a=new z(u.TYPE_TO_SERP_PATH[a]).setQueryData({q:b,source:"pivot",tsid:this.typeahead.getSessionID(),__xts__:[o.getModuleTrackingData(this.state.sessionID,h.SEE_MORE_TAPPED)["data-xt"]]});this.footer!=null?this.footer.setAttribute("href",a.toString()):this.footer=j.create("a",{href:a.toString(),className:"_235a"},D._("Ver todo"));this.state.footerIsVisible?j.show(this.footer):j.hide(this.footer);return this.footer};a.prototype.$7=function(a){a=A.getURIBuilder().setString("xt",o.getSerializedResultTrackingData(this.state.sessionID,a,this.state.results)).getURI();a=j.create("iframe",{src:new z(a),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});a.setAttribute("aria-hidden","true");return a};a.prototype.setState=function(a){var b=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,a);b.query!==this.state.query&&this.source.didChange(this.state.query);b.isVisible!==this.state.isVisible&&(this.state.isVisible?(j.show(this.root),i.addClass(this.spinner,"_5_ef")):(j.hide(this.root),i.removeClass(this.spinner,"_5_ef")));(b.serpIsLoading!==this.state.serpIsLoading||b.footerIsVisible!==this.state.footerIsVisible)&&(this.state.serpIsLoading?i.removeClass(this.root,"_5_eg"):!this.state.footerIsVisible?i.addClass(this.root,"_5_eg"):this.state.footerIsVisible&&i.removeClass(this.root,"_5_eg"));this.footer!=null&&b.footerIsVisible!==this.state.footerIsVisible&&(this.state.footerIsVisible?j.show(this.footer):j.hide(this.footer));b.spinnerIsVisible!==this.state.spinnerIsVisible&&(this.state.spinnerIsVisible?j.show(this.spinner):j.hide(this.spinner))};a.prototype.getPossibleHCMResult=function(a){var b=a.first();return a.size!==1||b==null?null:{id:b.id,text:b.name!=null?b.name:"",type:b.type,bemHCMEnabled:r.bemHCMEnabled}};e.exports=a}),null);
__d("MSearchResultPagePerfLogger",["Banzai","Stratcom","SubscriptionsHandler","URI"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();function a(a,b){this.$6=3,this.onResultLinkReady=function(a){this.$4=a.href,this.$5=Date.now()}.bind(this),this.onEnterPressed=function(a){this.$4=a,this.$5=Date.now()}.bind(this),this.$2=b,this.$1=a,this.$3="mtouch_serp_log_perf",this.$4="",this.$8()}a.prototype.$8=function(){this.$7=new i(),this.$7.addSubscriptions(this.$1.listen("select",this.onResultLinkReady),this.$1.listen("on-enter-pressed",this.onEnterPressed),h.listen("m:page:render:complete",null,function(a){var b=new j(this.$4);a=new j(a.getData().path);var c=Date.now()-this.$5;if(b.getPath()===a.getPath()&&c>=0){a={tti:c,typeaheadType:this.$2,uriPath:b.getPath()};g.post(this.$3,a,{delay:this.$6,retry:!0})}this.$4=""}.bind(this)))};a.prototype.destroy=function(){this.$7.release()};e.exports=a}),null);
__d("MGraphSearchTypeaheadBucketizer",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=20;function h(a){__p&&__p();if(a.isTrending&&a.isNullStateSuggestion)return"trending";else if(a.isRecentSearch)return"recent";else if(a.isPopularSearch&&a.isNullStateSuggestion)return"popular";else if(a.isPYMK)return"pymk";else if(a.isScoped)return a.isNullStateSuggestion?"group_popular":"group_search";else if(a.isSeeMore)return"see_more";else if(a.type==="keyword")return"suggested";else return"top_matches"}function a(a){a=a||{},this.maxResults=a.maxResults||g}a.prototype.bucketize=function(a,b){__p&&__p();var c={},d=[],e=Math.min(a.length,this.maxResults);for(var f=0;f<e;f++){var g=a[f],i=h(g);if(!c[i]){var j=[];c[i]=j;d.push({headerType:i,results:j})}c[i].push(g)}c.suggested!=null&&b!=null&&c.suggested.splice(b-1,c.suggested.length-b);return d};e.exports=a}),null);
__d("MGraphSearchTypeaheadHeaders",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={pymk:g._("Personas que quiz\u00e1 conozcas"),recent:g._("B\u00fasquedas recientes"),popular:g._("B\u00fasquedas populares"),suggested:g._("B\u00fasquedas"),top_matches:g._("Mejores coincidencias"),trending:g._("Tendencias"),group_popular:g._("Popular en este grupo"),group_search:g._("Buscar en este grupo"),suggested_global:g._("Buscar en todo Facebook")};b={pymk:g._("PERSONAS QUE QUIZ\u00c1 CONOZCAS"),recent:g._("B\u00daSQUEDAS RECIENTES"),popular:g._("B\u00daSQUEDAS POPULARES"),suggested:g._("B\u00daSQUEDAS"),top_matches:g._("MEJORES COINCIDENCIAS"),trending:g._("TENDENCIAS"),group_popular:g._("POPULAR EN ESTE GRUPO"),group_search:g._("BUSCAR EN ESTE GRUPO"),suggested_global:g._("BUSCAR EN TODO FACEBOOK")};e.exports={Labels:a,CapitalizedLabels:b}}),null);
__d("MSearchSimplificationHeader",["DOM","MGraphSearchTypeaheadHeaders","cx","fbt","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=h.CapitalizedLabels;function m(a){a=a.activityLogURI;a=g.create("a",{href:a,className:k("touchable","_z-v")},j._("Editar"));a.setAttribute("data-edit-recent-searches",!0);return g.create("div",{className:"_z-w"},[g.create("div",{className:"_z-z"},l.recent),a])}function a(a){var b=a.type,c=a.query,d=a.searchMode,e=a.isFirst;if(b==="recent")return m(a);if(c===""||d==="group")return g.create("div",{className:"_z-w"},g.create("div",{className:"_z-z"},l[b]));else if(!e)return g.create("div",{className:"_z--"});return null}e.exports=a}),null);
__d("MSearchSimplificationNullstateResult",["DOM","HTML","Locale","MSearchKeywordsConst","cx"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=" \xb7 ";function m(a){var b=a.result.id;if(b==null||String(b).match(/^[0-9]+$/)==null)return null;b=a.result.photo;return b==null?null:g.create("img",{className:"_1e86",src:b})}function n(a){__p&&__p();var b=a.result,c=b.subtext,d=b.boldedSubtext,e=b.isVerified;b=b.showGrayCheck;a=a.result.display;var f;e&&(f=g.create("i",{className:"_1e87"}));var j;b&&(j=g.create("i",{className:"_1e88"}));e=[a];i.isRTL()&&e.push(new h("&#8206;"));return g.create("div",{className:"_1e89"},[g.create("div",{className:"_1e8a"},g.create("div",{className:"_1e8b"},e),[f,j]),g.create("div",{className:"_1e8d"},[d,d&&c?l:null,c])])}function a(a){var b=a.result,c=b.id,d=b.uriWithSession,e=b.type;b=b.isTrending;e=e===j.keywordType;var f;(b||e)&&(f=g.create("i",{className:"_1e8e"+(b?" _1e8f":"")+(e?" _1e8g":"")}));return g.create("a",{className:"touchable _1e8h",href:d,rel:c},[m(a),f,n(a)])}e.exports=a}),null);
__d("MSearchSimplificationSeeMoreRecentResultsButton",["DOM","cx","fbt"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(){return g.create("a",{className:"_4x4z"},[i._("Ver m\u00e1s"),g.create("span",{className:"_4x4-"})])}e.exports=a}),null);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}e.exports=a}),null);
__d("MSearchSimplificationTypedResult",["DOM","HTML","Locale","cx","fbt","gkx","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=l("781547"),o=l("676819");function p(){return g.create("button",{className:"_niv"},[g.create("span",{className:"_nix"+(i.isRTL()?" _4uv-":"")})])}function q(a){__p&&__p();var b=a.result.isSeeMore,c=a.result.display;if(b)c=k._("Ver m\u00e1s resultados para \"{query}\"",[k._param("query",c)]);else{a=a.query;a=a.toLowerCase();!m(c)&&c.indexOf(a)===0&&(c=[a,g.create("strong",{},c.slice(a.length,c.length))])}a=[c];!b&&i.isRTL()&&a.push(new h("&#8206;"));if(n){c=g.create("span",{className:"_7bcn"},a);return g.create("div",{className:"_7a5d"},c)}else return g.create("div",{className:"_io1"},a)}function a(a){__p&&__p();var b=a.result,c=b.id,d=b.isSeeMore,e=b.uriWithSession;b=b.fromRecentSearchCache;a=[q(a)];o&&!d&&a.push(p());if(n&&!d){b=g.create("i",{className:"_7a5e"+(b?"":" _7a5f")+(b?" _7a5r":"")});a.unshift(b)}if(n)return g.create("a",{className:"touchable _7a5s"+(d?" _7a5t":""),href:e,rel:c},a);else return g.create("a",{className:"touchable _io2"+(d?" _iop":""),href:e,rel:c},a)}e.exports=a}),null);
__d("MGraphSearchCompositeSource",["SearchMTouchGlobalOptions","TypeaheadCompositeSource"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;b=babelHelpers.inherits(a,h);i=b&&b.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$MGraphSearchCompositeSource1=new Set(),b}a.prototype.mergeResults=function(a,b){"use strict";__p&&__p();this.$MGraphSearchCompositeSource2(b);a=i.mergeResults.call(this,a,b);if(!a||!this.$MGraphSearchCompositeSource3||a.some(function(a){return a.type==="trending"})||a.some(function(a){return a.isRecentSearch})||a.some(function(a){return a.isPopularSearch}))return a;a.length=Math.min(a.length,this.$MGraphSearchCompositeSource3.maxResults);if(g.keywordsOnlyEnabled){b=[];var c={};for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;c[h.id]||(c[h.id]=!0,b.push(h))}return b}if(this.$MGraphSearchCompositeSource3.enableLegacyStyleBucketization)return this.bucketResults(a);h=!1;f=a[0];f&&(f.bootstrapped||f.bootstrap||f.type==="user"&&f.cost<this.$MGraphSearchCompositeSource3.minCostForUserToSurfaceAtTop)&&(h=!0);e=!1;for(var d=0;d<this.$MGraphSearchCompositeSource3.maxPositionOfEntityToDivideKeywords;d++)a[d]&&a[d].type!=="keyword"&&(e=!0);c=[];b=[];f=[];var j;for(var d=0;d<a.length;d++){j=a[d];if(!(j.bootstrapped&&this.$MGraphSearchCompositeSource3.keepBootstrapped)&&j.type in this.$MGraphSearchCompositeSource3.filterOutTypes)continue;j.type==="keyword"?!h&&(!e||b.length<this.$MGraphSearchCompositeSource3.maxKeywordAboveEntities)?b.push(j):f.push(j):c.push(j)}if(this.$MGraphSearchCompositeSource3.overrideKWRankingBehavior){j=b;j.push.apply(j,f);h=j.slice(0,this.$MGraphSearchCompositeSource3.numKeywordsAboveEntities);d=j.slice(this.$MGraphSearchCompositeSource3.numKeywordsAboveEntities);a=h;(e=a).push.apply(e,c);if(this.$MGraphSearchCompositeSource3.hasKeywordsBelowEntities){(j=a).push.apply(j,d)}}else{a=b;(h=a).push.apply(h,c);(e=a).push.apply(e,f)}return a};a.prototype.bucketResults=function(a){"use strict";if(!a.length)return a;var b,c,d=[],e={};for(var f=0,g=a.length;f<g;f++)b=a[f],c=this.getBucketType(b),!e[c]?(d.push(c),e[c]=[b]):e[c].push(b);return d.reduce(function(a,b){return a.concat(e[b])},[])};a.prototype.getBucketType=function(a){"use strict";return a.type==="keyword"||a.is_grammar?"keyword":"entity"};a.prototype.setConfig=function(a){"use strict";this.$MGraphSearchCompositeSource3=a};a.prototype.$MGraphSearchCompositeSource2=function(a){"use strict";a.forEach(function(a){a.isRecentSearch&&this.$MGraphSearchCompositeSource1.add(a.name),a.fromRecentSearchCache=this.$MGraphSearchCompositeSource1.has(a.name)}.bind(this))};e.exports=a}),null);
__d("MGraphSearchTypeaheadOnDemandSource",["MSearchKeywordsConst","MTypeaheadOnDemandSource","SearchMTouchGlobalOptions","Stratcom","TokenizeUtil","URI","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o,p="graph-search-entry-point";b=babelHelpers.inherits(a,h);o=b&&b.prototype;function a(a,b){"use strict";b=b||{},o.constructor.call(this,a,b),this.enableImmediateReturnOfCachedResults=!0,this.setNormalizer(function(a){return a.toLowerCase()}),this.setSanitizer(function(a){return a}),this.queryCache={},this.groupID=null,this.isScoped=!1,this.numResultsToFetch=b.numResultsToFetch,j.listen("setCurrentProfileID",p,function(a){var b=l.getRequestURI(),c=b.getQueryData();c=c.groupID;(c!==void 0||b.getPath().startsWith("/groups/"))&&(this.groupID=a.getData().profileID,this.clearCache())}.bind(this))}a.prototype.getMatchedResults=function(a){"use strict";__p&&__p();var b=a.toLowerCase();while(b.length>0&&!(b in this.queryCache))b=b.substr(0,b.length-1);if(!b)return[];var c=[];if(b===a){c=this.queryCache[a];return this.renderNodes(a,c)}for(var d=0;d<this.queryCache[b].length;d++){var e=this.queryCache[b][d];k.isQueryMatch(a,this._raw[e].display)&&c.push(e)}return this.renderNodes(a,c)};a.prototype.addToLookup=function(a,b){"use strict";this.addToQueryCache(a,b)};a.prototype.addResult=function(a,b){"use strict";var c=a.uid;c in this._raw||(a=(this.getTransformer()||this._defaultTransformer)(a),this._raw[c]=a);this._raw[c].idx=a.idx;this.addToQueryCache(c,b)};a.prototype.addToQueryCache=function(a,b){"use strict";this.queryCache[b]||(this.queryCache[b]=[]),this.queryCache[b].indexOf(a)===-1&&this.queryCache[b].push(a)};a.prototype.setGroupID=function(a){"use strict";this.groupID=a};a.prototype.setIsScoped=function(a){"use strict";this.isScoped=a};a.prototype.setSelectedIntent=function(a){"use strict";this.selectedIntent=a};a.prototype.getAuxiliaryData=function(){"use strict";var a={};this.isScoped&&this.groupID!=null&&(a.group_id=this.groupID);return babelHelpers["extends"]({max_results:this.numResultsToFetch},a)};a.prototype.tokenize=function(a){"use strict";a=o.tokenize.call(this,a);a[a.length-1]===""&&a.pop();return a};a.prototype.ondata=function(a,b,c){"use strict";c.payload.results?(b&&(b=b.toLowerCase()),o.ondata.call(this,a,b,m(c.payload.results))):(this.invoke("req_recv",0),this.invoke("complete"))};a.prototype.getTransformer=function(){"use strict";__p&&__p();return i.keywordsOnlyEnabled?n:function(a){__p&&__p();if(a.type==="keyword"){var b={cost:a.cost,idx:a.idx,display:a.text,name:a.text,type:a.untranslated_type||a.type,id:a.uid,uri:a.path,logInfo:a.logInfo,subtext:a.subtext,is_grammar:a.grammar_type!=null,isScoped:a.is_scoped,boldedSubtext:a.boldedSubtext,keywordBoldedSubtext:a.keywordBoldedSubtext,keywordRenderType:a.keywordRenderType,keyword_type:a.keyword_type},c=g.keywordTypes;Object.keys(g.keywordTypes).map(function(d){var e="is"+d.charAt(0).toUpperCase()+d.slice(1);b[e]=a.keyword_type===c[d]});g.intentKeys.map(function(a){b.isSpecialIntent=b.isSpecialIntent||b[a]});return b}return{name:a.text,uri:a.path,id:a.uid,display:a.display||a.text,photo:a.photo,category:a.category,cost:a.cost,idx:a.idx,tokens:a.tokens,type:a.untranslated_type||a.type,verticalType:a.vertical_type,subtext:a.subtext,isVerified:a.is_verified,showGrayCheck:a.show_gray_check,isWorkForeignEntity:a.is_work_foreign_entity,logInfo:a.logInfo}}};a.prototype.clearCache=function(){"use strict";o.clearCache.call(this),this.queryCache={}};e.exports=a}),null);
__d("XWarmUserRequestArgsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/browse/warm/requestargs/",{query:{type:"String"},csid:{type:"String"}})}),null);
__d("MSearchTypeaheadNeue",["BehaviorsMixin","CancelableEventListener","CSS","DOM","EventEmitter","MGraphSearchCompositeSource","MGraphSearchTypeaheadBucketizer","MGraphSearchTypeaheadOnDemandSource","MGraphSearchTypeaheadTouchSource","MHistory","MJewel","MJewels","MPageController","MRecentSearchesUpdater","MRequest","MSearchConst","MSearchResultPagePerfLogger","MSearchSimplificationUtils","MSearchTrendingLogger","MSearchTypeaheadLogger","MSearchTypeaheadPerfLoggerUtil","MTouchClick","MTypeaheadNullstateSource","MViewport","Parent","SearchMTouchGlobalOptions","Stratcom","Style","SubscriptionsHandler","URI","XWarmUserRequestArgsController","csx","cx","fbt","findTag","ge","gkx","immutable","joinClasses","mixin","runMaybeOnAfterTTI","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,aa,H,I,J,ba,ca,K,L,M,N,O,P,Q,R,S){"use strict";__p&&__p();var T,U=O.List,V="/search/metrics.php",W="result",X=!1,Y=new RegExp("^/(search|graphsearch|topic/trending|groups/search)"),Z={display:"See More",id:"see-more-inline",isNullStateSuggestion:!1,isRecentSearch:!0,isSeeMoreRecentResults:!0,type:"see-more-inline"};a=babelHelpers.inherits($,Q(g));T=a&&a.prototype;function $(a){__p&&__p();T.constructor.call(this);this.$MSearchTypeaheadNeue7={};this.$MSearchTypeaheadNeue8={};this.$MSearchTypeaheadNeue9={};this.$MSearchTypeaheadNeue13=!1;this.$MSearchTypeaheadNeue15=!1;this.$MSearchTypeaheadNeue18=!1;this.$MSearchTypeaheadNeue19=!1;this.$MSearchTypeaheadNeue20=!1;this.$MSearchTypeaheadNeue52=function(a){__p&&__p();var b=a.getTarget();if(!(b instanceof HTMLElement))return;var c=b.getAttribute("data-ft");b=b.getAttribute("data-name");if(!c||!b)return;a.prevent();this.setState({searchMode:"group",groupID:c,groupName:b,isVisible:!0,isOpen:!0,results:U()},function(){this.$MSearchTypeaheadNeue23.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue50=function(){this.setState({isShowingAllRecentResults:!0}),this.$MSearchTypeaheadNeue57()}.bind(this);this.$MSearchTypeaheadNeue31=function(){var a=this.state.query;this.$MSearchTypeaheadNeue59("update",[a]);this.$MSearchTypeaheadNeue59("change",[a])}.bind(this);this.onInputChange=function(){this.setState({query:this.$MSearchTypeaheadNeue23.value.trimLeft()}),this.$MSearchTypeaheadNeue75(),this.$MSearchTypeaheadNeue10()}.bind(this);this.onInputBlur=function(){this.setState({isInputFocused:!1})}.bind(this);this.onInputFocus=function(){__p&&__p();var a=this.$MSearchTypeaheadNeue23.value;this.setState({isInputFocused:!0,query:a});p.pushSoftState(r.SEARCH);var b=new I(window.location),c=new I(this.props.activityLogURI);(this.$MSearchTypeaheadNeue15||b.getPath()===c.getPath())&&(this.$MSearchTypeaheadNeue15=!1,this.$MSearchTypeaheadNeue59("refreshRecent",[a]));if(this.$MSearchTypeaheadNeue13){b=B.hasTouchEvents()?"touchend":"click";G.invoke(b,"graph-search-activator")}this.$MSearchTypeaheadNeue59("focus");this.$MSearchTypeaheadNeue59("change",[a]);if(!X){c=new u(J.getURIBuilder().getURI());c.send();X=!0}}.bind(this);this.onClearButtonEvent=function(a){a.prevent();a="";this.setState({query:a},function(){this.$MSearchTypeaheadNeue23.focus()}.bind(this));this.$MSearchTypeaheadNeue59("change",[a]);this.$MSearchTypeaheadNeue59("update",[a])}.bind(this);this.onScopeIndicatorClickEvent=function(a){a.prevent(),this.setState({searchMode:"global"},function(){this.$MSearchTypeaheadNeue23.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue45=function(a){__p&&__p();var b=a.getTarget();if(!(b instanceof HTMLElement))return;var c=E.byTag(b,"a");if(c==null)return;var d=E.bySelector(c,"[data-edit-recent-searches]");if(d){this.$MSearchTypeaheadNeue61();return}a.prevent();d=this.$MSearchTypeaheadNeue76(b);if(d==null)return;a=this.$MSearchTypeaheadNeue77(d);b={isOpen:!1,isVisible:d.type==="keyword",prefilledValue:a,query:a};this.setState(b);this.$MSearchTypeaheadNeue59("select",[c]);this.$MSearchTypeaheadNeue59("result-selected",[d]);this.$MSearchTypeaheadNeue78(new I(d.uriWithSession))}.bind(this);this.$MSearchTypeaheadNeue47=function(a){__p&&__p();a.prevent();a=this.$MSearchTypeaheadNeue23.value;var b="";if(a==="")return;b=this.$MSearchTypeaheadNeue56(a).addQueryData("ref","content_filter").addQueryData("tsid",this.$MSearchTypeaheadNeue14).addQueryData("source","typeahead");this.$MSearchTypeaheadNeue59("on-enter-pressed",[b.toString()]);this.$MSearchTypeaheadNeue78(new I(b));this.$MSearchTypeaheadNeue23.blur();this.setState({query:a,prefilledValue:a,isOpen:!1,isVisible:a!==""});this.$MSearchTypeaheadNeue59("query",[this.state.results])}.bind(this);this.$MSearchTypeaheadNeue46=function(a){__p&&__p();var b=a.getTarget();if(b instanceof HTMLElement&&N("676819")&&j.isType(b,["button"])){a.prevent();a=this.$MSearchTypeaheadNeue76(b);b=this.$MSearchTypeaheadNeue77(a);b.length>0&&(b+=" ");this.setState({isOpen:!0,isVisible:!0,prefilledValue:b,query:b});this.$MSearchTypeaheadNeue31()}else this.$MSearchTypeaheadNeue23.blur()}.bind(this);this.$MSearchTypeaheadNeue42=function(){this.setState({isWaiting:!0})}.bind(this);this.$MSearchTypeaheadNeue43=function(){this.setState({isWaiting:!1},function(){this.$MSearchTypeaheadNeue3!=null&&this.$MSearchTypeaheadNeue3.release()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue38=function(){this.setState({isWaiting:!0})}.bind(this);this.$MSearchTypeaheadNeue39=function(a){this.state.isOpen&&this.$MSearchTypeaheadNeue59("render_start");a=U(a);a.forEach(function(a){a.uri=new I(a.uri).addQueryData("refid",v.refid)});var b=this.state,c=b.query;b=b.searchMode;c!==""&&b==="global"&&(a=this.$MSearchTypeaheadNeue55(a));this.setState({results:U(a)});this.$MSearchTypeaheadNeue57()}.bind(this);this.$MSearchTypeaheadNeue40=function(){this.setState({isWaiting:!1})}.bind(this);this.$MSearchTypeaheadNeue51=function(a){var b=a.getData().title||"";this.state.isOpen||this.$MSearchTypeaheadNeue59("change",[b,{preventSessionStart:!0}]);a={prefilledValue:b};this.state.isOpen||(a=babelHelpers["extends"]({},a,{query:b,searchMode:this.$MSearchTypeaheadNeue29(),isVisible:b!==""}));this.setState(a,function(){this.state.isOpen||(this.$MSearchTypeaheadNeue23.value=b)}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue71=function(a){this.$MSearchTypeaheadNeue21!=null&&this.$MSearchTypeaheadNeue21.startSession(a.getData().sessionID,a.getData().query);var b=this.$MSearchTypeaheadNeue24;if(b==null)return;var c=j.scry(b,"input","search-typeahead-session-id")[0];c||(c=document.createElement("input"),c.type="hidden",c.name="tsid",b.appendChild(c),G.addSigil(c,"search-typeahead-session-id"));b=a.getData().sessionID;c.value=b;this.$MSearchTypeaheadNeue14=b}.bind(this);this.$MSearchTypeaheadNeue32=function(){if(!this.state.isOpen)return;i.hide(L("root","div"))}.bind(this);this.$MSearchTypeaheadNeue36=function(){var a=p.getPath(),b=p.getParam(p.SOFT_STATE_KEY),c=b==="search";a=new I(a).getPath();a=a.match(Y)!=null;a=c||a&&(b==null||c);b=a?this.state.prefilledValue:"";a&&c&&G.invoke("m:graph-search:rendered");this.setState({query:b,isOpen:c,isVisible:a},function(){this.state.isOpen&&this.$MSearchTypeaheadNeue23.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue53=function(){G.invoke("log-m-search-session-end",null,{reason:"navigated_away"}),this.$MSearchTypeaheadNeue21!=null&&this.$MSearchTypeaheadNeue21.endSession(),this.setState({searchMode:"global"})}.bind(this);this.props=a;a=this.props.prefilledValue||"";this.state={query:a,prefilledValue:a,results:U(),isShowingAllRecentResults:!1,isWaiting:!1,searchMode:this.$MSearchTypeaheadNeue29(),isInputFocused:!1,groupID:this.$MSearchTypeaheadNeue30(),groupName:this.props.groupName};this.$MSearchTypeaheadNeue6=new k();this.$MSearchTypeaheadNeue2=new H();this.$MSearchTypeaheadNeue4=new m({maxResults:this.props.typeaheadConfig.compositeSourceConfig.maxResults});this.$MSearchTypeaheadNeue10=S(this.$MSearchTypeaheadNeue31,200);this.$MSearchTypeaheadNeue11=S(this.$MSearchTypeaheadNeue32,500);this.$MSearchTypeaheadNeue33();this.$MSearchTypeaheadNeue34();this.$MSearchTypeaheadNeue35();this.$MSearchTypeaheadNeue36();R(function(){this.initBehaviors(this.props.behaviors)}.bind(this));G.invoke("m:graph-search:ready")}$.prototype.getTypeaheadType=function(){var a=this.props.typeaheadConfig.keywordsOnlyEnabled;return a?"m_simplification":"m_graph_search"};$.prototype.getValue=function(){return this.$MSearchTypeaheadNeue23.value};$.prototype.getSessionID=function(){return this.$MSearchTypeaheadNeue14};$.prototype.$MSearchTypeaheadNeue37=function(a){this.$MSearchTypeaheadNeue5=a,this.$MSearchTypeaheadNeue12=new H(),this.$MSearchTypeaheadNeue12.addSubscriptions(a.listen("req_dispatch",this.$MSearchTypeaheadNeue38),a.listen("resultsready",this.$MSearchTypeaheadNeue39),a.listen("after_complete",this.$MSearchTypeaheadNeue40)),a.bindToTypeahead(this)};$.prototype.$MSearchTypeaheadNeue41=function(a){this.$MSearchTypeaheadNeue17=a,this.$MSearchTypeaheadNeue3=new H(),this.$MSearchTypeaheadNeue3.addSubscriptions(a.listen("waiting",this.$MSearchTypeaheadNeue42),a.listen("bootstrapped",this.$MSearchTypeaheadNeue43))};$.prototype.$MSearchTypeaheadNeue33=function(){var a=this.props.root;this.$MSearchTypeaheadNeue24=this.$MSearchTypeaheadNeue44();j.appendContent(a,this.$MSearchTypeaheadNeue24);this.$MSearchTypeaheadNeue28=this.props.scopeIndicator;j.appendContent(a,this.$MSearchTypeaheadNeue28);this.$MSearchTypeaheadNeue25=j.create("div",{className:"_5-lw"});j.appendContent(a,this.$MSearchTypeaheadNeue25)};$.prototype.$MSearchTypeaheadNeue34=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue25,"click",null,this.$MSearchTypeaheadNeue45),h.listen(this.$MSearchTypeaheadNeue25,"touchmove",null,this.$MSearchTypeaheadNeue46),h.listen(this.$MSearchTypeaheadNeue25,"touchstart",null,this.$MSearchTypeaheadNeue46),j.listen(this.$MSearchTypeaheadNeue23,"focus",null,this.onInputFocus),j.listen(this.$MSearchTypeaheadNeue23,"blur",null,this.onInputBlur),j.listen(this.$MSearchTypeaheadNeue26,"mousedown",null,this.onClearButtonEvent),h.listen(this.$MSearchTypeaheadNeue26,"touchstart",null,this.onClearButtonEvent),j.listen(this.$MSearchTypeaheadNeue24,"submit",null,this.$MSearchTypeaheadNeue47)),N("676820")?this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue23,"input",null,this.onInputChange)):this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue23,"keyup",null,this.onInputChange)),this.$MSearchTypeaheadNeue27!=null&&this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue27,"click",null,this.$MSearchTypeaheadNeue48)),this.$MSearchTypeaheadNeue28!=null&&this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue28,"click",null,this.onScopeIndicatorClickEvent))};$.prototype.$MSearchTypeaheadNeue49=function(a){j.listen(a,"click",null,this.$MSearchTypeaheadNeue50)};$.prototype.$MSearchTypeaheadNeue35=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(G.listen("setSearchText","graph-search-entry-point",this.$MSearchTypeaheadNeue51),G.listen(B.hasTouchEvents()?"touchend":"click","m-groups-scoped-search-button",this.$MSearchTypeaheadNeue52),G.listen("m:history:change",null,this.$MSearchTypeaheadNeue36),G.listen("m:chrome:tab:hide",r.SEARCH,this.$MSearchTypeaheadNeue53))};$.prototype.$MSearchTypeaheadNeue44=function(){this.$MSearchTypeaheadNeue23=j.create("input",{id:"main-search-input","data-sigil":"search-small-box",className:"_5-lx",type:"search",name:"query",placeholder:this.$MSearchTypeaheadNeue54(),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",value:this.state.query});this.$MSearchTypeaheadNeue26=j.create("a",{href:"#",className:"_5-ly",role:"button"},K._("Borrar"));!this.props.typeaheadConfig.keywordsOnlyEnabled?this.$MSearchTypeaheadNeue27=null:this.$MSearchTypeaheadNeue27=j.create("a",{href:"#",className:P("_3k_n")},K._("Cancelar"));return j.create("form",{className:"_13e_",action:"/search/top/"},[j.create("div",{className:"_13fn"},[this.$MSearchTypeaheadNeue23,j.create("label",{htmlFor:"main-search-input",className:"_13fo"},K._("Buscar")),this.$MSearchTypeaheadNeue26]),this.$MSearchTypeaheadNeue27])};$.prototype.$MSearchTypeaheadNeue55=function(a){var b=this.state.query;b={id:x.getKeywordSemantic(b),type:"keyword",isSeeMore:!0,display:b,uri:this.$MSearchTypeaheadNeue56(b).toString(),keyword_type:"escape"};a=a.push(b);return a};$.prototype.$MSearchTypeaheadNeue57=function(){__p&&__p();var a=this.props.typeaheadConfig,b=a.hasRecentSearchesSeeMoreButton,c=a.keywordsOnlyEnabled,d=a.keywordBucketSize,e=a.defaultNumTopResultsToShow;a=a.initialNumRecentResultsToShow;var f=this.state.results,g=this.state,h=g.query,i=g.searchMode,k=this.$MSearchTypeaheadNeue4.bucketize(f.toArray(),c?d:e),l=[],m=[];g=-1;f=k.find(function(a){return a.headerType==="recent"});var n=[];c=f?f.results.length:0;var o=0;f&&c>a&&!this.state.isShowingAllRecentResults&&f.results.splice(a);b&&f&&c>a&&!this.state.isShowingAllRecentResults&&f.results.push(Z);var p=[];k.forEach(function(a,b){__p&&__p();var c=a.headerType;a=a.results;c==="suggested"&&"group_search"in k&&(c="suggested_global");if(h.length===0||b<k.length-1){b=this.props.renderers.Header({activityLogURI:this.props.activityLogURI,isFirst:b===0,query:h,searchMode:i,type:c});b!=null&&n.push(b)}c=a.map(function(b,a){p.push(b);this.state.isVisible&&b.isTrending&&b.isNullStateSuggestion&&(l[o]=b.topicID,m[o]=o+1,g=b.trendingQueryID);return this.$MSearchTypeaheadNeue58(b)}.bind(this));n.push.apply(n,c)}.bind(this));this.$MSearchTypeaheadNeue59("show",[p,{preventSessionStart:!0}]);if(l.length>0&&!this.$MSearchTypeaheadNeue1){this.$MSearchTypeaheadNeue1=new H();(d=this.$MSearchTypeaheadNeue1).addSubscriptions.apply(d,y.registerTrendingTopicListeners(l,v.msite_news_null_state,m,g));y.logTrendingTopicImpressions(l,v.msite_news_null_state,m,g)}else this.$MSearchTypeaheadNeue1!=null&&(this.$MSearchTypeaheadNeue1.release(),this.$MSearchTypeaheadNeue1=null);j.empty(this.$MSearchTypeaheadNeue25);j.appendContent(this.$MSearchTypeaheadNeue25,n);this.$MSearchTypeaheadNeue11();this.state.isOpen&&this.$MSearchTypeaheadNeue59("rendered")};$.prototype.$MSearchTypeaheadNeue58=function(a){var b=this.state.results.indexOf(a);a.uri&&(this.$MSearchTypeaheadNeue18&&a.type=="page"?a.uriWithSession=new I("/search/").addQueryData({query:a.name,tsid:this.$MSearchTypeaheadNeue14,source:W}).toString():a.uriWithSession=new I(a.uri).addQueryData({tsid:this.$MSearchTypeaheadNeue14,source:W}).toString());a.isTrending&&(a.uriWithSession=new I(a.uriWithSession).addQueryData("position",b+1).toString());b=this.$MSearchTypeaheadNeue60(a);b=b({query:this.state.query,result:a});a.isSeeMoreRecentResults&&this.$MSearchTypeaheadNeue49(b);return b};$.prototype.$MSearchTypeaheadNeue60=function(a){if(a.isNullStateSuggestion)return this.props.renderers.NullstateResult;return a.isSeeMoreRecentResults?this.props.renderers.SeeMoreRecentResultsButton:this.props.renderers.TypedResult};$.prototype.$MSearchTypeaheadNeue61=function(){this.$MSearchTypeaheadNeue15=!0};$.prototype.$MSearchTypeaheadNeue62=function(){return this.props.typeaheadConfig};$.prototype.$MSearchTypeaheadNeue63=function(){return this.state.searchMode};$.prototype.$MSearchTypeaheadNeue64=function(a){__p&&__p();var b=F.queryThrottleTime,c=F.enableQueryThrottle,d=F.enableEagerSendRequest,e=F.queryWaitTime,f=F.redirectPages;if(this.$MSearchTypeaheadNeue5!=null&&!a)return;a=this.$MSearchTypeaheadNeue5;a!=null&&this.$MSearchTypeaheadNeue12!=null&&(this.$MSearchTypeaheadNeue12.release(),a.unbindFromTypeahead());var g=this.$MSearchTypeaheadNeue63(),h;g!=null&&(h=this.$MSearchTypeaheadNeue7[g]);if(h){this.$MSearchTypeaheadNeue37(h);this.$MSearchTypeaheadNeue59("refresh");return}var i=this.$MSearchTypeaheadNeue62().sources,j=[],k;i.bootstrapped&&this.state.searchMode!=="group"&&(k=this.$MSearchTypeaheadNeue65(i.bootstrapped.src,i.bootstrapped.source_key),k.setConvertEntityToKeyword(F.keywordsOnlyEnabled),k.setShouldOnlyPrefixMatch(F.prefixMatchEntityBootstrap),i.bootstrapped.max_results!=null&&k.setMaximumResultCount(i.bootstrapped.max_results),k.setShowSecondaryAction(!0),k.clientRendered=!0,this.$MSearchTypeaheadNeue16=k,j.push(k));if(i.nullstate){var l=this.$MSearchTypeaheadNeue66(i.nullstate.src);l.setMaximumResultCount(i.nullstate.max_results);l.setShowSecondaryAction(!0);l.clientRendered=!0;l.setCurrentProfileID(this.props.currentProfileID);this.state.searchMode==="group"&&(l.setEnableScoped(!0),l.setCurrentProfileID(this.state.groupID));j.push(l);N("676821")&&this.$MSearchTypeaheadNeue41(l)}l=i.online;l&&(k=this.$MSearchTypeaheadNeue67(l.src),k.setMaximumResultCount(l.max_results),k.setEnableImmediateReturnOfCachedResults(l.enable_caching),k.setMaxResults(this.props.typeaheadConfig.numResultsToFetch),c&&k.setThrottleSendRequest(b),k.setEnableEagerSendRequest(d),k.setQueryDelay(e),this.$MSearchTypeaheadNeue18=f,k.setShowSecondaryAction(!0),k.clientRendered=!0,j.push(k));a=this.$MSearchTypeaheadNeue68(j);a.clientRendered=!0;a.mergeKey="id";this.$MSearchTypeaheadNeue37(a);this.$MSearchTypeaheadNeue59("start");g!=null&&(this.$MSearchTypeaheadNeue7[g]=this.$MSearchTypeaheadNeue5)};$.prototype.$MSearchTypeaheadNeue68=function(a){a=new l(a);a.setConfig(this.props.typeaheadConfig.compositeSourceConfig);return a};$.prototype.$MSearchTypeaheadNeue67=function(a){var b=this.props.typeaheadConfig,c=b.disableLongerQueryCacheHit;b=b.numResultsToFetch;a=new n(a,{disableLongerQueryCacheHit:c,numResultsToFetch:b});this.state.searchMode==="group"&&(a.setIsScoped(!0),a.setGroupID(this.state.groupID));return a};$.prototype.$MSearchTypeaheadNeue65=function(a,b){return new o(a,b)};$.prototype.$MSearchTypeaheadNeue66=function(a){return new C(a)};$.prototype.$MSearchTypeaheadNeue69=function(){if(!this.props.typeaheadConfig.mSideNavMarauderLogger||this.$MSearchTypeaheadNeue19)return;this.$MSearchTypeaheadNeue2.addSubscriptions(this.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(this));this.$MSearchTypeaheadNeue19=!0};$.prototype.$MSearchTypeaheadNeue70=function(){if(this.$MSearchTypeaheadNeue20)return;var a=new z(this,V);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return a.destroy()}});this.$MSearchTypeaheadNeue2.addSubscriptions(G.listen("m-typeahead-logger:new-session-id",null,this.$MSearchTypeaheadNeue71));this.$MSearchTypeaheadNeue20=!0;this.$MSearchTypeaheadNeue2.addSubscriptions(G.listen("log-m-search-session-end",null,function(b){a.blur(b.getData().reason)}))};$.prototype.$MSearchTypeaheadNeue72=function(){if(this.props.typeaheadConfig.hasRecentSearches){var a=new t(this);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return a.destroy()}})}};$.prototype.$MSearchTypeaheadNeue73=function(){__p&&__p();var a=this.$MSearchTypeaheadNeue63();if(a==null)return;if(!this.props.typeaheadConfig.typeaheadScubaInfo||this.$MSearchTypeaheadNeue8[a])return;var b=A.getNewMSearchTypeaheadPerfLogger,c=b(this,this.props.typeaheadConfig.typeaheadScubaInfo,this.props.typeaheadConfig.sources.online.enable_caching||!1);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return c.destroy()}});this.$MSearchTypeaheadNeue21=c;this.$MSearchTypeaheadNeue8[a]=!0};$.prototype.$MSearchTypeaheadNeue74=function(){__p&&__p();var a=this.$MSearchTypeaheadNeue63();if(a==null)return;if(!this.props.typeaheadConfig.typeaheadScubaInfo||this.$MSearchTypeaheadNeue9[a])return;var b=new w(this,this.props.typeaheadConfig.typeaheadScubaInfo.type);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return b.destroy()}});this.$MSearchTypeaheadNeue22=b;this.$MSearchTypeaheadNeue9[a]=!0};$.prototype.$MSearchTypeaheadNeue75=function(){var a=this.$MSearchTypeaheadNeue23.value;this.$MSearchTypeaheadNeue59("keypress",[a])};$.prototype.listen=function(a,b){var c=this.$MSearchTypeaheadNeue6.addListener(a,b);return{type:a,callback:b,remove:function(){c.remove()}}};$.prototype.$MSearchTypeaheadNeue59=function(a,b){var c;b===void 0&&(b=[]);(c=this.$MSearchTypeaheadNeue6).emit.apply(c,[a].concat(b))};$.prototype.$MSearchTypeaheadNeue48=function(a){a.prevent(),p.popSoftState(r.SEARCH)};$.prototype.$MSearchTypeaheadNeue56=function(a){a=a.trim();var b=this.state.groupID;return b&&this.state.searchMode==="group"?x.getGroupSearchURI(b,a):x.getKeywordURI(a)};$.prototype.$MSearchTypeaheadNeue30=function(){var a=new I(window.location);return a.getQueryData().groupID};$.prototype.$MSearchTypeaheadNeue77=function(a){return a!=null&&a.type==="keyword"?a.display:""};$.prototype.$MSearchTypeaheadNeue76=function(a){var b=E.byTag(a,"a");a=null;b!=null&&(a=this.state.results.filter(function(a){return String(a.id)===String(b.getAttribute("rel"))}).first());return a};$.prototype.$MSearchTypeaheadNeue79=function(a){return a.getQueryData().groupID?"group":null};$.prototype.$MSearchTypeaheadNeue29=function(){var a=new I(window.location);a=this.$MSearchTypeaheadNeue79(a);return a!=null?a:"global"};$.prototype.$MSearchTypeaheadNeue54=function(){if(this.state.searchMode==="group"&&this.$MSearchTypeaheadNeue28===null)return K._("Buscar en {groupName}",[K._param("groupName",this.state.groupName)]);else return K._("Busca")};$.prototype.$MSearchTypeaheadNeue78=function(a){s.load(a)};$.prototype.setState=function(a,b){__p&&__p();var c=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,a);this.state.query!==c.query&&this.$MSearchTypeaheadNeue23.value!==this.state.query&&(this.$MSearchTypeaheadNeue23.value=this.state.query);if(!this.$MSearchTypeaheadNeue13&&!c.isVisible&&this.state.isVisible){this.$MSearchTypeaheadNeue64();this.$MSearchTypeaheadNeue69();this.$MSearchTypeaheadNeue70();this.$MSearchTypeaheadNeue73();this.$MSearchTypeaheadNeue74();this.$MSearchTypeaheadNeue72();a=B.hasTouchEvents()?"touchend":"click";G.invoke(a,"graph-search-activator");this.$MSearchTypeaheadNeue59("change",[this.$MSearchTypeaheadNeue23.value]);this.$MSearchTypeaheadNeue13=!0}else this.state.searchMode!==c.searchMode&&(this.$MSearchTypeaheadNeue64(!0),this.$MSearchTypeaheadNeue73(),this.$MSearchTypeaheadNeue74(),this.$MSearchTypeaheadNeue31());this.state.searchMode!==c.searchMode&&this.$MSearchTypeaheadNeue23.setAttribute("placeholder",String(this.$MSearchTypeaheadNeue54()));if(this.$MSearchTypeaheadNeue28!=null&&this.state.isOpen)if(this.state.searchMode!=="group")i.hide(this.$MSearchTypeaheadNeue28);else{if(this.state.groupName!==c.groupName){a=j.find(this.$MSearchTypeaheadNeue28,"span");var d=j.create("span",this.state.groupName);j.replace(a,d)}i.show(this.$MSearchTypeaheadNeue28)}if(this.state.isOpen!==c.isOpen||this.state.isVisible!==c.isVisible){a=M(q.JEWEL_NAV_NODE_ID);if(a!=null){d=j.scry(a,"*","search")[0];d&&i.conditionClass(d,"isActive",!!this.state.isVisible)}}a=this.props.root;this.state.isOpen!==c.isOpen&&(i.conditionClass(a,"_h3o",!!this.state.isOpen),i.conditionClass(a,"_13gr",!this.state.isOpen));this.state.isVisible!==c.isVisible&&(i.conditionClass(a,"_1vty",!!this.state.isVisible),i.conditionClass(a,"_1vtz",!this.state.isVisible));!this.state.isOpen&&c.isOpen&&(this.$MSearchTypeaheadNeue23.blur(),i.show(L("root","div")));this.state.isWaiting&&!c.isWaiting?i.addClass(this.props.root,"_13gv"):!this.state.isWaiting&&c.isWaiting&&i.removeClass(this.props.root,"_13gv");this.state.query&&this.state.isInputFocused?j.show(this.$MSearchTypeaheadNeue26):j.hide(this.$MSearchTypeaheadNeue26);b!=null&&b()};$.prototype.initBehaviors=function(a){a.forEach(function(a){this.enableBehavior(a)}.bind(this))};$.prototype.getRoot=function(){return this.props.root};$.init=function(a){return new $(a)};e.exports=$}),null);